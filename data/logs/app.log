[2026-01-21 11:18:56] [INFO    ] [BillingSoftware.__main__] [<module>:13] - ================================================================================
[2026-01-21 11:18:56] [INFO    ] [BillingSoftware.__main__] [<module>:14] - GST BILLING SOFTWARE - APPLICATION STARTUP
[2026-01-21 11:18:56] [INFO    ] [BillingSoftware.__main__] [<module>:15] - ================================================================================
[2026-01-21 11:18:56] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 11:18:56] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 11:18:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:18:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:18:56] [ERROR   ] [BillingSoftware.core.db.sqlite_db] [_execute:91] - Database execution error: duplicate column name: balance_type
Traceback (most recent call last):
  File "/Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/core/db/sqlite_db.py", line 72, in _execute
    cur.execute(sql, params)
sqlite3.OperationalError: duplicate column name: balance_type
[2026-01-21 11:18:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:18:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:18:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:18:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:18:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:18:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:18:56] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 11:18:56] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:54] - PaymentController initialized
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:18:57] [ERROR   ] [BillingSoftware.core.db.sqlite_db] [_execute:91] - Database execution error: duplicate column name: balance_type
Traceback (most recent call last):
  File "/Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/core/db/sqlite_db.py", line 72, in _execute
    cur.execute(sql, params)
sqlite3.OperationalError: duplicate column name: balance_type
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.__main__] [__init__:39] - Initializing MainWindow with company: GST Billing
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.__main__] [__init__:46] - MainWindow maximized
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.__main__] [setup_ui:56] - Setting up main UI
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0023s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=42): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=18): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=42): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=18): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=42): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:173] - Fetching all products from database
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=18): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:18:57] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:177] - Successfully fetched 18 products
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:63] - Fetching all invoices for company_id: 15
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=210): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 11:18:57] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:108] - Successfully fetched 210 invoices
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0063s
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:73] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:77] - Retrieved 0 payments
[2026-01-21 11:18:57] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:88] - Filtered payments: 0 out of 0
[2026-01-21 11:18:57] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0006s
[2026-01-21 11:18:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:18:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:18:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=42): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:18:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=18): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:18:58] [INFO    ] [BillingSoftware.__main__] [__init__:52] - MainWindow setup completed successfully
[2026-01-21 11:18:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:18:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:18:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=42): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:18:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=18): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:19:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=42): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:19:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0027s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 11:19:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:19:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:19:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:19:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=18): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:19:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:19:30] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 11:19:30] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:173] - Fetching all products from database
[2026-01-21 11:19:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=18): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:19:30] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:177] - Successfully fetched 18 products
[2026-01-21 11:19:30] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0010s
[2026-01-21 11:19:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=7): SELECT DISTINCT category FROM products WHERE company_id = ? AND category IS NOT NULL AND category != '' ORDER BY category [with 1 params]
[2026-01-21 11:19:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0022s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:19:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:19:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:19:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=18): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:20:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=1): INSERT INTO products(company_id, name, hsn_code, barcode, unit, sales_rate, purchase_rate, 
               discount_percent, mrp, tax_rate, sgst_rate, cgst_rate, opening_stock, low_stock, product_type, 
               category, description, warranty_months, has_serial_number, track_stock, is_gst_registered, 
               current_stock, created_at) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,datetime('now')) [with 22 params]
[2026-01-21 11:20:14] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 11:20:14] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:173] - Fetching all products from database
[2026-01-21 11:20:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:20:14] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:177] - Successfully fetched 19 products
[2026-01-21 11:20:14] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 11:26:47] [INFO    ] [BillingSoftware.test] [<module>:337] - ================================================================================
[2026-01-21 11:26:47] [INFO    ] [BillingSoftware.test] [<module>:338] - LOGGING SYSTEM TEST
[2026-01-21 11:26:47] [INFO    ] [BillingSoftware.test] [<module>:339] - ================================================================================
[2026-01-21 11:26:47] [DEBUG   ] [BillingSoftware.test] [<module>:341] - This is a DEBUG message
[2026-01-21 11:26:47] [INFO    ] [BillingSoftware.test] [<module>:342] - This is an INFO message
[2026-01-21 11:26:47] [WARNING ] [BillingSoftware.test] [<module>:343] - This is a WARNING message
[2026-01-21 11:26:47] [ERROR   ] [BillingSoftware.test] [<module>:344] - This is an ERROR message
[2026-01-21 11:26:47] [INFO    ] [BillingSoftware.test] [<module>:346] - User Action Examples:
[2026-01-21 11:26:47] [INFO    ] [BillingSoftware.UserActions] [log_action:182] - [CREATE] Invoice(id=INV-001) by user=demo_user - Number=INV-2026-0001, Party=5, Amount=50000.0
[2026-01-21 11:26:47] [INFO    ] [BillingSoftware.UserActions] [log_action:182] - [CREATE] Payment(id=PAY-001) by user=demo_user - Party=5, Amount=10000.0
[2026-01-21 11:26:47] [INFO    ] [BillingSoftware.test] [<module>:350] - Log file created at: data/logs/app.log
[2026-01-21 11:26:47] [INFO    ] [BillingSoftware.test] [<module>:351] - ================================================================================
[2026-01-21 11:33:56] [INFO    ] [BillingSoftware.__main__] [<module>:13] - ================================================================================
[2026-01-21 11:33:56] [INFO    ] [BillingSoftware.__main__] [<module>:14] - GST BILLING SOFTWARE - APPLICATION STARTUP
[2026-01-21 11:33:56] [INFO    ] [BillingSoftware.__main__] [<module>:15] - ================================================================================
[2026-01-21 11:33:56] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 11:33:56] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 11:33:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:33:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:33:56] [ERROR   ] [BillingSoftware.core.db.sqlite_db] [_execute:91] - Database execution error: duplicate column name: balance_type
Traceback (most recent call last):
  File "/Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/core/db/sqlite_db.py", line 72, in _execute
    cur.execute(sql, params)
sqlite3.OperationalError: duplicate column name: balance_type
[2026-01-21 11:33:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:33:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:33:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:33:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:33:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:33:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:33:56] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 11:33:56] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:54] - PaymentController initialized
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:33:57] [ERROR   ] [BillingSoftware.core.db.sqlite_db] [_execute:91] - Database execution error: duplicate column name: balance_type
Traceback (most recent call last):
  File "/Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/core/db/sqlite_db.py", line 72, in _execute
    cur.execute(sql, params)
sqlite3.OperationalError: duplicate column name: balance_type
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.__main__] [__init__:39] - Initializing MainWindow with company: GST Billing
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.__main__] [__init__:46] - MainWindow maximized
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.__main__] [setup_ui:56] - Setting up main UI
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0022s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:173] - Fetching all products from database
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:33:57] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:177] - Successfully fetched 19 products
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:63] - Fetching all invoices for company_id: 15
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=210): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 11:33:57] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:108] - Successfully fetched 210 invoices
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0064s
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:73] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:77] - Retrieved 0 payments
[2026-01-21 11:33:57] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:88] - Filtered payments: 0 out of 0
[2026-01-21 11:33:57] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 11:33:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:33:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:33:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:33:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:33:58] [INFO    ] [BillingSoftware.__main__] [__init__:52] - MainWindow setup completed successfully
[2026-01-21 11:33:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:33:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:33:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:33:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:34:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0034s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:34:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0018s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:34:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:34:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:35:07] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 11:35:07] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 11:35:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:35:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:35:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:35:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:35:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:35:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:35:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:35:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:35:07] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 11:35:07] [INFO    ] [BillingSoftware.test] [<module>:1] - Database initialized successfully
[2026-01-21 11:35:34] [INFO    ] [BillingSoftware.__main__] [<module>:13] - ================================================================================
[2026-01-21 11:35:34] [INFO    ] [BillingSoftware.__main__] [<module>:14] - GST BILLING SOFTWARE - APPLICATION STARTUP
[2026-01-21 11:35:34] [INFO    ] [BillingSoftware.__main__] [<module>:15] - ================================================================================
[2026-01-21 11:35:34] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:35:34] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:54] - PaymentController initialized
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.__main__] [__init__:39] - Initializing MainWindow with company: GST Billing
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.__main__] [__init__:46] - MainWindow maximized
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.__main__] [setup_ui:56] - Setting up main UI
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:173] - Fetching all products from database
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:35:34] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:177] - Successfully fetched 19 products
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:63] - Fetching all invoices for company_id: 15
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=210): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 11:35:34] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:108] - Successfully fetched 210 invoices
[2026-01-21 11:35:34] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0071s
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:73] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:77] - Retrieved 0 payments
[2026-01-21 11:35:35] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:88] - Filtered payments: 0 out of 0
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:35:35] [INFO    ] [BillingSoftware.__main__] [__init__:52] - MainWindow setup completed successfully
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:35:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:37:21] [INFO    ] [BillingSoftware.__main__] [<module>:13] - ================================================================================
[2026-01-21 11:37:21] [INFO    ] [BillingSoftware.__main__] [<module>:14] - GST BILLING SOFTWARE - APPLICATION STARTUP
[2026-01-21 11:37:21] [INFO    ] [BillingSoftware.__main__] [<module>:15] - ================================================================================
[2026-01-21 11:37:21] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:37:21] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:54] - PaymentController initialized
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.__main__] [__init__:39] - Initializing MainWindow with company: GST Billing
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.__main__] [__init__:46] - MainWindow maximized
[2026-01-21 11:37:21] [DEBUG   ] [BillingSoftware.__main__] [setup_ui:56] - Setting up main UI
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:173] - Fetching all products from database
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:37:22] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:177] - Successfully fetched 19 products
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:63] - Fetching all invoices for company_id: 15
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=210): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 11:37:22] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:108] - Successfully fetched 210 invoices
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0053s
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:73] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:77] - Retrieved 0 payments
[2026-01-21 11:37:22] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:88] - Filtered payments: 0 out of 0
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:37:22] [INFO    ] [BillingSoftware.__main__] [__init__:52] - MainWindow setup completed successfully
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:37:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:38:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0038s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:38:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:38:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:38:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:38:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=7): SELECT DISTINCT category FROM products WHERE company_id = ? AND category IS NOT NULL AND category != '' ORDER BY category [with 1 params]
[2026-01-21 11:39:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=43): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0021s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 11:39:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:39:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:21] [INFO    ] [BillingSoftware.__main__] [<module>:13] - ================================================================================
[2026-01-21 11:39:21] [INFO    ] [BillingSoftware.__main__] [<module>:14] - GST BILLING SOFTWARE - APPLICATION STARTUP
[2026-01-21 11:39:21] [INFO    ] [BillingSoftware.__main__] [<module>:15] - ================================================================================
[2026-01-21 11:39:21] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:39:21] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:54] - PaymentController initialized
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.__main__] [__init__:39] - Initializing MainWindow with company: GST Billing
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.__main__] [__init__:46] - MainWindow maximized
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.__main__] [setup_ui:56] - Setting up main UI
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0028s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:173] - Fetching all products from database
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:21] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:177] - Successfully fetched 19 products
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:63] - Fetching all invoices for company_id: 15
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=210): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 11:39:21] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:108] - Successfully fetched 210 invoices
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0062s
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:73] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:77] - Retrieved 0 payments
[2026-01-21 11:39:21] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:88] - Filtered payments: 0 out of 0
[2026-01-21 11:39:21] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 11:39:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:39:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:22] [INFO    ] [BillingSoftware.__main__] [__init__:52] - MainWindow setup completed successfully
[2026-01-21 11:39:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:39:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:39:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:46:10] [INFO    ] [BillingSoftware.__main__] [<module>:13] - ================================================================================
[2026-01-21 11:46:10] [INFO    ] [BillingSoftware.__main__] [<module>:14] - GST BILLING SOFTWARE - APPLICATION STARTUP
[2026-01-21 11:46:10] [INFO    ] [BillingSoftware.__main__] [<module>:15] - ================================================================================
[2026-01-21 11:46:10] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:46:10] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.__main__] [__init__:39] - Initializing MainWindow with company: GST Billing
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.__main__] [__init__:46] - MainWindow maximized
[2026-01-21 11:46:10] [DEBUG   ] [BillingSoftware.__main__] [setup_ui:56] - Setting up main UI
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:46:11] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=210): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 11:46:11] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 210 invoices
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0059s
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 11:46:11] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:46:11] [INFO    ] [BillingSoftware.__main__] [__init__:52] - MainWindow setup completed successfully
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:46:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 11:49:32] [WARNING ] [BillingSoftware.core.exception_validators] [validate_gstin:47] - Invalid GSTIN: TEST
[2026-01-21 11:57:23] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 11:57:23] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 11:57:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:57:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:57:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:57:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:57:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:57:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:57:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:57:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:57:23] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 11:57:23] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 11:57:23] [ERROR   ] [BillingSoftware.core.error_handler] [handle_exception:46] - Error in Test Operation: InvoiceAlreadyExistsException
NoneType: None
[2026-01-21 11:57:23] [ERROR   ] [BillingSoftware.core.error_handler] [handle_exception:53] - Business Logic Error [INVOICE_DUPLICATE]: Invoice number 'TEST' already exists. Please use a different invoice number.
[2026-01-21 11:59:13] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 11:59:13] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 11:59:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 11:59:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:59:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 11:59:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:59:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:59:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 11:59:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 11:59:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 11:59:13] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 11:59:13] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 11:59:13] [ERROR   ] [BillingSoftware.core.error_handler] [handle_exception:46] - Error in Test Operation: InvoiceAlreadyExistsException
NoneType: None
[2026-01-21 11:59:13] [ERROR   ] [BillingSoftware.core.error_handler] [handle_exception:53] - Business Logic Error [INVOICE_DUPLICATE]: Invoice number 'TEST' already exists. Please use a different invoice number.
[2026-01-21 12:03:32] [WARNING ] [BillingSoftware.core.exception_validators] [validate_gstin:47] - Invalid GSTIN: INVALID
[2026-01-21 12:03:32] [WARNING ] [BillingSoftware.core.exception_validators] [validate_pan:69] - Invalid PAN: INVALID
[2026-01-21 12:03:32] [WARNING ] [BillingSoftware.core.exception_validators] [validate_mobile:91] - Invalid mobile: 9876543210
[2026-01-21 12:03:32] [WARNING ] [BillingSoftware.core.exception_validators] [validate_mobile:91] - Invalid mobile: 12345
[2026-01-21 12:03:32] [WARNING ] [BillingSoftware.core.exception_validators] [validate_email:113] - Invalid email: invalid-email
[2026-01-21 12:03:32] [WARNING ] [BillingSoftware.core.exception_validators] [validate_decimal_precision:146] - Decimal precision exceeded: 100.567 (max 2 decimals)
[2026-01-21 12:03:32] [WARNING ] [BillingSoftware.core.exception_validators] [validate_invoice_total:183] - Invoice total mismatch: declared=500.0, calculated=300.0
[2026-01-21 12:03:32] [WARNING ] [BillingSoftware.core.exception_validators] [validate_stock_availability:216] - Insufficient stock for Widget: available=5, requested=10
[2026-01-21 12:03:32] [WARNING ] [BillingSoftware.core.exception_validators] [validate_required_field:245] - Required field empty: field_name
[2026-01-21 12:03:32] [ERROR   ] [BillingSoftware.core.error_handler] [handle_confirmation:133] - Failed to show confirmation dialog: No module named 'PySide6'
[2026-01-21 12:03:32] [DEBUG   ] [BillingSoftware.core.error_handler] [begin_transaction:247] - Transaction started
[2026-01-21 12:03:32] [DEBUG   ] [BillingSoftware.core.error_handler] [begin_transaction:247] - Transaction started
[2026-01-21 12:03:32] [DEBUG   ] [BillingSoftware.core.error_handler] [commit_transaction:258] - Transaction committed
[2026-01-21 12:03:32] [DEBUG   ] [BillingSoftware.core.error_handler] [begin_transaction:247] - Transaction started
[2026-01-21 12:03:32] [WARNING ] [BillingSoftware.core.error_handler] [rollback_transaction:271] - Transaction rolled back for test operation
[2026-01-21 12:03:32] [WARNING ] [BillingSoftware.core.exception_validators] [validate_gstin:47] - Invalid GSTIN: INVALID
[2026-01-21 12:06:05] [WARNING ] [BillingSoftware.core.exception_validators] [validate_gstin:47] - Invalid GSTIN: INVALID
[2026-01-21 12:06:05] [WARNING ] [BillingSoftware.core.exception_validators] [validate_pan:69] - Invalid PAN: INVALID
[2026-01-21 12:06:05] [WARNING ] [BillingSoftware.core.exception_validators] [validate_mobile:91] - Invalid mobile: 9123456789
[2026-01-21 12:06:05] [WARNING ] [BillingSoftware.core.exception_validators] [validate_mobile:91] - Invalid mobile: 12345
[2026-01-21 12:06:05] [WARNING ] [BillingSoftware.core.exception_validators] [validate_email:113] - Invalid email: invalid-email
[2026-01-21 12:06:05] [WARNING ] [BillingSoftware.core.exception_validators] [validate_decimal_precision:146] - Decimal precision exceeded: 100.567 (max 2 decimals)
[2026-01-21 12:06:05] [WARNING ] [BillingSoftware.core.exception_validators] [validate_invoice_total:183] - Invoice total mismatch: declared=500.0, calculated=300.0
[2026-01-21 12:06:05] [WARNING ] [BillingSoftware.core.exception_validators] [validate_stock_availability:216] - Insufficient stock for Widget: available=5, requested=10
[2026-01-21 12:06:05] [WARNING ] [BillingSoftware.core.exception_validators] [validate_required_field:245] - Required field empty: field_name
[2026-01-21 12:06:05] [ERROR   ] [BillingSoftware.core.error_handler] [handle_confirmation:133] - Failed to show confirmation dialog: No module named 'PySide6'
[2026-01-21 12:06:05] [DEBUG   ] [BillingSoftware.core.error_handler] [begin_transaction:247] - Transaction started
[2026-01-21 12:06:05] [DEBUG   ] [BillingSoftware.core.error_handler] [begin_transaction:247] - Transaction started
[2026-01-21 12:06:05] [DEBUG   ] [BillingSoftware.core.error_handler] [commit_transaction:258] - Transaction committed
[2026-01-21 12:06:05] [DEBUG   ] [BillingSoftware.core.error_handler] [begin_transaction:247] - Transaction started
[2026-01-21 12:06:05] [WARNING ] [BillingSoftware.core.error_handler] [rollback_transaction:271] - Transaction rolled back for test operation
[2026-01-21 12:06:05] [WARNING ] [BillingSoftware.core.exception_validators] [validate_gstin:47] - Invalid GSTIN: INVALID
[2026-01-21 12:07:21] [WARNING ] [BillingSoftware.core.exception_validators] [validate_gstin:47] - Invalid GSTIN: INVALID
[2026-01-21 12:07:21] [WARNING ] [BillingSoftware.core.exception_validators] [validate_pan:69] - Invalid PAN: INVALID
[2026-01-21 12:07:21] [WARNING ] [BillingSoftware.core.exception_validators] [validate_mobile:91] - Invalid mobile: 12345
[2026-01-21 12:07:21] [WARNING ] [BillingSoftware.core.exception_validators] [validate_email:113] - Invalid email: invalid-email
[2026-01-21 12:07:21] [WARNING ] [BillingSoftware.core.exception_validators] [validate_decimal_precision:146] - Decimal precision exceeded: 100.567 (max 2 decimals)
[2026-01-21 12:07:21] [WARNING ] [BillingSoftware.core.exception_validators] [validate_invoice_total:183] - Invoice total mismatch: declared=500.0, calculated=300.0
[2026-01-21 12:07:21] [WARNING ] [BillingSoftware.core.exception_validators] [validate_stock_availability:216] - Insufficient stock for Widget: available=5, requested=10
[2026-01-21 12:07:21] [WARNING ] [BillingSoftware.core.exception_validators] [validate_required_field:245] - Required field empty: field_name
[2026-01-21 12:07:21] [ERROR   ] [BillingSoftware.core.error_handler] [handle_confirmation:133] - Failed to show confirmation dialog: No module named 'PySide6'
[2026-01-21 12:07:21] [DEBUG   ] [BillingSoftware.core.error_handler] [begin_transaction:247] - Transaction started
[2026-01-21 12:07:21] [DEBUG   ] [BillingSoftware.core.error_handler] [begin_transaction:247] - Transaction started
[2026-01-21 12:07:21] [DEBUG   ] [BillingSoftware.core.error_handler] [commit_transaction:258] - Transaction committed
[2026-01-21 12:07:21] [DEBUG   ] [BillingSoftware.core.error_handler] [begin_transaction:247] - Transaction started
[2026-01-21 12:07:21] [WARNING ] [BillingSoftware.core.error_handler] [rollback_transaction:271] - Transaction rolled back for test operation
[2026-01-21 12:07:21] [WARNING ] [BillingSoftware.core.exception_validators] [validate_gstin:47] - Invalid GSTIN: INVALID
[2026-01-21 12:19:32] [INFO    ] [BillingSoftware.__main__] [<module>:13] - ================================================================================
[2026-01-21 12:19:32] [INFO    ] [BillingSoftware.__main__] [<module>:14] - GST BILLING SOFTWARE - APPLICATION STARTUP
[2026-01-21 12:19:32] [INFO    ] [BillingSoftware.__main__] [<module>:15] - ================================================================================
[2026-01-21 12:19:32] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:19:32] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.__main__] [__init__:39] - Initializing MainWindow with company: GST Billing
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.__main__] [__init__:46] - MainWindow maximized
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.__main__] [setup_ui:56] - Setting up main UI
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:19:32] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=210): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 12:19:32] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 210 invoices
[2026-01-21 12:19:32] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0066s
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 12:19:33] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:19:33] [INFO    ] [BillingSoftware.__main__] [__init__:52] - MainWindow setup completed successfully
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0041s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:19:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:19] [INFO    ] [BillingSoftware.__main__] [<module>:13] - ================================================================================
[2026-01-21 12:26:19] [INFO    ] [BillingSoftware.__main__] [<module>:14] - GST BILLING SOFTWARE - APPLICATION STARTUP
[2026-01-21 12:26:19] [INFO    ] [BillingSoftware.__main__] [<module>:15] - ================================================================================
[2026-01-21 12:26:19] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 12:26:19] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 12:26:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:26:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:26:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:26:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:26:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:26:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:26:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:26:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:26:19] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 12:26:19] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.__main__] [__init__:39] - Initializing MainWindow with company: GST Billing
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.__main__] [__init__:46] - MainWindow maximized
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.__main__] [setup_ui:56] - Setting up main UI
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:20] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=210): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 12:26:20] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 210 invoices
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0060s
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 12:26:20] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0006s
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:20] [INFO    ] [BillingSoftware.__main__] [__init__:52] - MainWindow setup completed successfully
[2026-01-21 12:26:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:26:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=100): SELECT invoice_no FROM invoices WHERE company_id = ? ORDER BY id DESC LIMIT 100 [with 1 params]
[2026-01-21 12:26:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=10): 
                SELECT DISTINCT ii.product_id 
                FROM invoice_items ii
                JOIN invoices i ON ii.invoice_id = i.id
                ORDER BY i.date DESC, i.id DESC
                LIMIT ?
                 [with 1 params]
[2026-01-21 12:26:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): SELECT * FROM purchase_invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=7): SELECT DISTINCT category FROM products WHERE company_id = ? AND category IS NOT NULL AND category != '' ORDER BY category [with 1 params]
[2026-01-21 12:26:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): SELECT * FROM purchase_invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:51] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:51] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:26:51] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=100): SELECT invoice_no FROM invoices WHERE company_id = ? ORDER BY id DESC LIMIT 100 [with 1 params]
[2026-01-21 12:26:51] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=10): 
                SELECT DISTINCT ii.product_id 
                FROM invoice_items ii
                JOIN invoices i ON ii.invoice_id = i.id
                ORDER BY i.date DESC, i.id DESC
                LIMIT ?
                 [with 1 params]
[2026-01-21 12:36:29] [INFO    ] [BillingSoftware.__main__] [<module>:13] - ================================================================================
[2026-01-21 12:36:29] [INFO    ] [BillingSoftware.__main__] [<module>:14] - GST BILLING SOFTWARE - APPLICATION STARTUP
[2026-01-21 12:36:29] [INFO    ] [BillingSoftware.__main__] [<module>:15] - ================================================================================
[2026-01-21 12:36:29] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:36:29] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.__main__] [__init__:39] - Initializing MainWindow with company: GST Billing
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.__main__] [__init__:46] - MainWindow maximized
[2026-01-21 12:36:29] [DEBUG   ] [BillingSoftware.__main__] [setup_ui:56] - Setting up main UI
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:30] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=210): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 12:36:30] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 210 invoices
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0063s
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 12:36:30] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0003s
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:30] [INFO    ] [BillingSoftware.__main__] [__init__:52] - MainWindow setup completed successfully
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=210): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=100): SELECT invoice_no FROM invoices WHERE company_id = ? ORDER BY id DESC LIMIT 100 [with 1 params]
[2026-01-21 12:36:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=10): 
                SELECT DISTINCT ii.product_id 
                FROM invoice_items ii
                JOIN invoices i ON ii.invoice_id = i.id
                ORDER BY i.date DESC, i.id DESC
                LIMIT ?
                 [with 1 params]
[2026-01-21 12:36:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=5): 
                    SELECT balance_due 
                    FROM invoices 
                    WHERE party_id = ? 
                    AND company_id = ? 
                    AND LOWER(status) NOT IN ('paid')
                    AND balance_due > 0
                 [with 2 params]
[2026-01-21 12:36:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): SELECT * FROM companies WHERE id = ? [with 1 params]
[2026-01-21 12:36:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): SELECT 1 FROM invoices WHERE invoice_no = ? AND company_id = ? LIMIT 1 [with 2 params]
[2026-01-21 12:36:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0018s, rows=1): INSERT INTO invoices(
                company_id, invoice_no, date, party_id, tax_type, bill_type,
                subtotal, discount, cgst, sgst, igst, round_off, grand_total,
                balance_due, status, notes
            ) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) [with 16 params]
[2026-01-21 12:36:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO invoice_items(invoice_id, product_id, product_name, hsn_code, 
                                    quantity, unit, rate, discount_percent, discount_amount,
                                    tax_percent, tax_amount, amount) 
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?)
             [with 12 params]
[2026-01-21 12:36:51] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=211): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:51] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:36:51] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:51] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:36:51] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 12:36:51] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 12:36:51] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=211): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 12:36:51] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 211 invoices
[2026-01-21 12:36:51] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0016s
[2026-01-21 12:37:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:37:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:37:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=100): SELECT invoice_no FROM invoices WHERE company_id = ? ORDER BY id DESC LIMIT 100 [with 1 params]
[2026-01-21 12:37:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=10): 
                SELECT DISTINCT ii.product_id 
                FROM invoice_items ii
                JOIN invoices i ON ii.invoice_id = i.id
                ORDER BY i.date DESC, i.id DESC
                LIMIT ?
                 [with 1 params]
[2026-01-21 12:37:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=5): 
                    SELECT balance_due 
                    FROM invoices 
                    WHERE party_id = ? 
                    AND company_id = ? 
                    AND LOWER(status) NOT IN ('paid')
                    AND balance_due > 0
                 [with 2 params]
[2026-01-21 12:37:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=1): SELECT * FROM companies WHERE id = ? [with 1 params]
[2026-01-21 12:37:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): SELECT 1 FROM invoices WHERE invoice_no = ? AND company_id = ? LIMIT 1 [with 2 params]
[2026-01-21 12:37:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0029s, rows=1): INSERT INTO invoices(
                company_id, invoice_no, date, party_id, tax_type, bill_type,
                subtotal, discount, cgst, sgst, igst, round_off, grand_total,
                balance_due, status, notes
            ) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) [with 16 params]
[2026-01-21 12:37:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO invoice_items(invoice_id, product_id, product_name, hsn_code, 
                                    quantity, unit, rate, discount_percent, discount_amount,
                                    tax_percent, tax_amount, amount) 
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?)
             [with 12 params]
[2026-01-21 12:37:30] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 12:37:30] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 12:37:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=212): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 12:37:30] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 212 invoices
[2026-01-21 12:37:30] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0025s
[2026-01-21 12:37:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=212): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:37:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:37:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:37:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:37:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): SELECT * FROM invoices WHERE id = ? LIMIT 1 [with 1 params]
[2026-01-21 12:37:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=1): SELECT * FROM parties WHERE id = ? [with 1 params]
[2026-01-21 12:37:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=1): SELECT * FROM invoice_items WHERE invoice_id = ? ORDER BY id [with 1 params]
[2026-01-21 12:37:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:37:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:37:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=100): SELECT invoice_no FROM invoices WHERE company_id = ? ORDER BY id DESC LIMIT 100 [with 1 params]
[2026-01-21 12:37:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=10): 
                SELECT DISTINCT ii.product_id 
                FROM invoice_items ii
                JOIN invoices i ON ii.invoice_id = i.id
                ORDER BY i.date DESC, i.id DESC
                LIMIT ?
                 [with 1 params]
[2026-01-21 12:37:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=5): 
                    SELECT balance_due 
                    FROM invoices 
                    WHERE party_id = ? 
                    AND company_id = ? 
                    AND LOWER(status) NOT IN ('paid')
                    AND balance_due > 0
                 [with 2 params]
[2026-01-21 12:37:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=1): SELECT * FROM companies WHERE id = ? [with 1 params]
[2026-01-21 12:37:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=1): SELECT * FROM invoices WHERE id = ? LIMIT 1 [with 1 params]
[2026-01-21 12:37:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): SELECT * FROM parties WHERE id = ? [with 1 params]
[2026-01-21 12:37:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=1): SELECT * FROM invoice_items WHERE invoice_id = ? ORDER BY id [with 1 params]
[2026-01-21 12:37:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:37:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:37:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=100): SELECT invoice_no FROM invoices WHERE company_id = ? ORDER BY id DESC LIMIT 100 [with 1 params]
[2026-01-21 12:37:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=10): 
                SELECT DISTINCT ii.product_id 
                FROM invoice_items ii
                JOIN invoices i ON ii.invoice_id = i.id
                ORDER BY i.date DESC, i.id DESC
                LIMIT ?
                 [with 1 params]
[2026-01-21 12:37:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=5): 
                    SELECT balance_due 
                    FROM invoices 
                    WHERE party_id = ? 
                    AND company_id = ? 
                    AND LOWER(status) NOT IN ('paid')
                    AND balance_due > 0
                 [with 2 params]
[2026-01-21 12:37:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=1): SELECT * FROM companies WHERE id = ? [with 1 params]
[2026-01-21 12:38:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:38:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:38:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=100): SELECT invoice_no FROM invoices WHERE company_id = ? ORDER BY id DESC LIMIT 100 [with 1 params]
[2026-01-21 12:38:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=10): 
                SELECT DISTINCT ii.product_id 
                FROM invoice_items ii
                JOIN invoices i ON ii.invoice_id = i.id
                ORDER BY i.date DESC, i.id DESC
                LIMIT ?
                 [with 1 params]
[2026-01-21 12:38:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0020s, rows=212): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:38:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:38:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:38:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:38:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=5): 
                    SELECT balance_due 
                    FROM invoices 
                    WHERE party_id = ? 
                    AND company_id = ? 
                    AND LOWER(status) NOT IN ('paid')
                    AND balance_due > 0
                 [with 2 params]
[2026-01-21 12:38:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=1): SELECT * FROM companies WHERE id = ? [with 1 params]
[2026-01-21 12:38:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=5): 
                    SELECT balance_due 
                    FROM invoices 
                    WHERE party_id = ? 
                    AND company_id = ? 
                    AND LOWER(status) NOT IN ('paid')
                    AND balance_due > 0
                 [with 2 params]
[2026-01-21 12:38:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=1): SELECT * FROM companies WHERE id = ? [with 1 params]
[2026-01-21 12:38:43] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): SELECT 1 FROM invoices WHERE invoice_no = ? AND company_id = ? LIMIT 1 [with 2 params]
[2026-01-21 12:38:43] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): SELECT 1 FROM invoices WHERE invoice_no = ? AND company_id = ? LIMIT 1 [with 2 params]
[2026-01-21 12:38:43] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0020s, rows=1): INSERT INTO invoices(
                company_id, invoice_no, date, party_id, tax_type, bill_type,
                subtotal, discount, cgst, sgst, igst, round_off, grand_total,
                balance_due, status, notes
            ) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) [with 16 params]
[2026-01-21 12:38:43] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO invoice_items(invoice_id, product_id, product_name, hsn_code, 
                                    quantity, unit, rate, discount_percent, discount_amount,
                                    tax_percent, tax_amount, amount) 
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?)
             [with 12 params]
[2026-01-21 12:38:44] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 12:38:44] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 12:38:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 12:38:44] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 12:38:44] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0016s
[2026-01-21 12:38:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=1): SELECT * FROM invoices WHERE id = ? LIMIT 1 [with 1 params]
[2026-01-21 12:38:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=1): SELECT * FROM parties WHERE id = ? [with 1 params]
[2026-01-21 12:38:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): SELECT * FROM invoice_items WHERE invoice_id = ? ORDER BY id [with 1 params]
[2026-01-21 12:38:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:38:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:38:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=100): SELECT invoice_no FROM invoices WHERE company_id = ? ORDER BY id DESC LIMIT 100 [with 1 params]
[2026-01-21 12:38:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=10): 
                SELECT DISTINCT ii.product_id 
                FROM invoice_items ii
                JOIN invoices i ON ii.invoice_id = i.id
                ORDER BY i.date DESC, i.id DESC
                LIMIT ?
                 [with 1 params]
[2026-01-21 12:38:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=5): 
                    SELECT balance_due 
                    FROM invoices 
                    WHERE party_id = ? 
                    AND company_id = ? 
                    AND LOWER(status) NOT IN ('paid')
                    AND balance_due > 0
                 [with 2 params]
[2026-01-21 12:38:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=1): SELECT * FROM companies WHERE id = ? [with 1 params]
[2026-01-21 12:47:06] [INFO    ] [BillingSoftware.__main__] [<module>:13] - ================================================================================
[2026-01-21 12:47:06] [INFO    ] [BillingSoftware.__main__] [<module>:14] - GST BILLING SOFTWARE - APPLICATION STARTUP
[2026-01-21 12:47:06] [INFO    ] [BillingSoftware.__main__] [<module>:15] - ================================================================================
[2026-01-21 12:47:06] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 12:47:06] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 12:47:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:47:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:47:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:47:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:47:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:47:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:47:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:47:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:47:06] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 12:47:06] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.__main__] [__init__:39] - Initializing MainWindow with company: GST Billing
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.__main__] [__init__:46] - MainWindow maximized
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.__main__] [setup_ui:56] - Setting up main UI
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0018s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:07] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 12:47:07] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0068s
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 12:47:07] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:07] [INFO    ] [BillingSoftware.__main__] [__init__:52] - MainWindow setup completed successfully
[2026-01-21 12:47:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:47:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:33] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:43] - Validation Error [Duplicate Name]: ["A party with the name 'SALIM BABUNA' already exists."]
[2026-01-21 12:47:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:35] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:43] - Validation Error [Duplicate Name]: ["A party with the name 'SALIM BABUNA' already exists."]
[2026-01-21 12:47:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:36] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:43] - Validation Error [Duplicate Name]: ["A party with the name 'SALIM BABUNA' already exists."]
[2026-01-21 12:47:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:36] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:43] - Validation Error [Duplicate Name]: ["A party with the name 'SALIM BABUNA' already exists."]
[2026-01-21 12:47:55] [INFO    ] [BillingSoftware.__main__] [<module>:13] - ================================================================================
[2026-01-21 12:47:55] [INFO    ] [BillingSoftware.__main__] [<module>:14] - GST BILLING SOFTWARE - APPLICATION STARTUP
[2026-01-21 12:47:55] [INFO    ] [BillingSoftware.__main__] [<module>:15] - ================================================================================
[2026-01-21 12:47:56] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:47:56] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.__main__] [__init__:39] - Initializing MainWindow with company: GST Billing
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.__main__] [__init__:46] - MainWindow maximized
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.__main__] [setup_ui:56] - Setting up main UI
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:56] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 12:47:56] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0051s
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 12:47:56] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:56] [INFO    ] [BillingSoftware.__main__] [__init__:52] - MainWindow setup completed successfully
[2026-01-21 12:47:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:47:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:47:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:48:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=44): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:48:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0023s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 12:48:11] [INFO    ] [BillingSoftware.ui.error_handler] [show_success:55] - UI Success [Success]: Party saved successfully!
[2026-01-21 12:48:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:48:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:48:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=45): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:48:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:48:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=45): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:48:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0023s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 12:48:27] [INFO    ] [BillingSoftware.ui.error_handler] [show_success:55] - UI Success [Success]: Party saved successfully!
[2026-01-21 12:48:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:48:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0032s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:48:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:48:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:48:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:49:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0050s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:49:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:49:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:49:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:50:53] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:50:53] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 12:50:53] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at :memory:
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): ALTER TABLE products ADD COLUMN warranty_months INTEGER DEFAULT 0
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): ALTER TABLE products ADD COLUMN has_serial_number INTEGER DEFAULT 0
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): ALTER TABLE products ADD COLUMN track_stock INTEGER DEFAULT 0
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): ALTER TABLE products ADD COLUMN is_gst_registered INTEGER DEFAULT 0
[2026-01-21 12:50:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): ALTER TABLE products ADD COLUMN current_stock REAL DEFAULT 0
[2026-01-21 12:50:53] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 12:50:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0102s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:50:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0084s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:50:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:50:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:24] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:51:24] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 12:51:24] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at :memory:
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): ALTER TABLE products ADD COLUMN warranty_months INTEGER DEFAULT 0
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): ALTER TABLE products ADD COLUMN has_serial_number INTEGER DEFAULT 0
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): ALTER TABLE products ADD COLUMN track_stock INTEGER DEFAULT 0
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): ALTER TABLE products ADD COLUMN is_gst_registered INTEGER DEFAULT 0
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): ALTER TABLE products ADD COLUMN current_stock REAL DEFAULT 0
[2026-01-21 12:51:24] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=1): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=1): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=2): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=2): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:37] [INFO    ] [BillingSoftware.__main__] [<module>:13] - ================================================================================
[2026-01-21 12:51:37] [INFO    ] [BillingSoftware.__main__] [<module>:14] - GST BILLING SOFTWARE - APPLICATION STARTUP
[2026-01-21 12:51:37] [INFO    ] [BillingSoftware.__main__] [<module>:15] - ================================================================================
[2026-01-21 12:51:37] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:51:37] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.__main__] [__init__:39] - Initializing MainWindow with company: GST Billing
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.__main__] [__init__:46] - MainWindow maximized
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.__main__] [setup_ui:56] - Setting up main UI
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:37] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0006s
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 12:51:37] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0080s
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 12:51:37] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 12:51:37] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 12:51:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:51:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:38] [INFO    ] [BillingSoftware.__main__] [__init__:52] - MainWindow setup completed successfully
[2026-01-21 12:51:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:51:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:42] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:43] - Validation Error [Duplicate Name]: ["A party with the name 'SALIM 1' already exists"]
[2026-01-21 12:51:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:44] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:43] - Validation Error [Duplicate Name]: ["A party with the name 'SALIM 1' already exists"]
[2026-01-21 12:51:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:51:46] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:43] - Validation Error [Duplicate Name]: ["A party with the name 'SALIM 1' already exists"]
[2026-01-21 12:54:31] [INFO    ] [BillingSoftware.__main__] [<module>:13] - ================================================================================
[2026-01-21 12:54:31] [INFO    ] [BillingSoftware.__main__] [<module>:14] - GST BILLING SOFTWARE - APPLICATION STARTUP
[2026-01-21 12:54:31] [INFO    ] [BillingSoftware.__main__] [<module>:15] - ================================================================================
[2026-01-21 12:54:31] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:54:31] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.__main__] [__init__:39] - Initializing MainWindow with company: GST Billing
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.__main__] [__init__:46] - MainWindow maximized
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.__main__] [setup_ui:56] - Setting up main UI
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:31] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 12:54:31] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0066s
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 12:54:31] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 12:54:31] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 12:54:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:54:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:32] [INFO    ] [BillingSoftware.__main__] [__init__:52] - MainWindow setup completed successfully
[2026-01-21 12:54:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:54:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:37] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:43] - Validation Error [Duplicate Name]: ["A party with the name 'SALIM 1' already exists"]
[2026-01-21 12:54:54] [INFO    ] [BillingSoftware.__main__] [<module>:13] - ================================================================================
[2026-01-21 12:54:54] [INFO    ] [BillingSoftware.__main__] [<module>:14] - GST BILLING SOFTWARE - APPLICATION STARTUP
[2026-01-21 12:54:54] [INFO    ] [BillingSoftware.__main__] [<module>:15] - ================================================================================
[2026-01-21 12:54:54] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:54:54] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.__main__] [__init__:39] - Initializing MainWindow with company: GST Billing
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.__main__] [__init__:46] - MainWindow maximized
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.__main__] [setup_ui:56] - Setting up main UI
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:54] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 12:54:54] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 12:54:54] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0052s
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 12:54:55] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:55] [INFO    ] [BillingSoftware.__main__] [__init__:52] - MainWindow setup completed successfully
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:54:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:55:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:55:03] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:43] - Validation Error [Duplicate Name]: ["A party with the name 'SALIM 1' already exists"]
[2026-01-21 12:55:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0034s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:55:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0206s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:55:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:55:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:56:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0034s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:56:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:56:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:56:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:49] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 12:59:49] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 12:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:59:49] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 12:59:49] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:50] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 12:59:50] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0058s
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 12:59:50] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 12:59:57] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:43] - Validation Error [Duplicate Name]: ["A party with the name 'SALIM 1' already exists"]
[2026-01-21 13:00:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0068s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:00:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:00:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:00:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:52] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 13:01:52] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 13:01:52] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 13:01:52] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 13:01:52] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 13:01:52] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 13:01:52] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 13:01:52] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 13:01:52] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 13:01:52] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 13:01:52] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:53] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 13:01:53] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0071s
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 13:01:53] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:01:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:01:59] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Duplicate Name]: A party with the name 'SALIM 1' already exists
[2026-01-21 13:02:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:02:03] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Duplicate Name]: A party with the name 'SALIM 1' already exists
[2026-01-21 13:02:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:02:07] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Duplicate Name]: A party with the name 'SALIM 1' already exists
[2026-01-21 13:02:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:02:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:02:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:02:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:03:57] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 13:03:57] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 13:03:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 13:03:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 13:03:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 13:03:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 13:03:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 13:03:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 13:03:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 13:03:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 13:03:57] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 13:03:57] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:03:58] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 13:03:58] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0056s
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 13:03:58] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:03:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:04:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:04:07] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Duplicate Name]: A party with the name 'SALIM 1' already exists
[2026-01-21 13:04:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:04:17] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Duplicate Name]: A party with the name 'SALIM 1' already exists
[2026-01-21 13:04:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:04:33] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Duplicate Name]: A party with the name 'SALIM 1' already exists
[2026-01-21 13:04:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:04:47] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 10-digit mobile number
[2026-01-21 13:04:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:04:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:04:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:04:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:05:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0028s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:05:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:05:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:05:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:05:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:05:59] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 10-digit mobile number
[2026-01-21 13:06:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=46): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:06:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 13:06:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0036s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 13:06:05] [INFO    ] [BillingSoftware.ui.error_handler] [show_success:61] - UI Success [Success]: Party saved successfully!
[2026-01-21 13:06:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:06:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:06:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=47): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:06:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:06:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0094s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:06:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:06:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=47): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:06:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:06:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=47): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:06:59] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 10-digit mobile number
[2026-01-21 13:07:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=47): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:07:27] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid email address
[2026-01-21 13:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=47): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:07:34] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid email address
[2026-01-21 13:07:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=47): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:07:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 13:07:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0028s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 13:07:48] [INFO    ] [BillingSoftware.ui.error_handler] [show_success:61] - UI Success [Success]: Party saved successfully!
[2026-01-21 13:07:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:07:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:07:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:07:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:07:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:08:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:08:20] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 10-digit mobile number
[2026-01-21 13:08:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:08:27] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 10-digit mobile number
[2026-01-21 13:08:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:08:31] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid email address
[2026-01-21 13:08:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:08:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 13:08:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0027s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 13:08:35] [INFO    ] [BillingSoftware.ui.error_handler] [show_success:61] - UI Success [Success]: Party saved successfully!
[2026-01-21 13:08:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:08:40] [DEBUG   ] [BillingSoftware.ui.error_handler] [ask_confirmation:88] - UI Confirmation [Confirm Delete]: Are you sure you want to delete 'SALIM 4'?

This action cannot be undone.
[2026-01-21 13:08:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): DELETE FROM parties WHERE id = ? [with 1 params]
[2026-01-21 13:08:41] [INFO    ] [BillingSoftware.ui.error_handler] [show_success:61] - UI Success [Success]: Party 'SALIM 4' deleted successfully!
[2026-01-21 13:08:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:08:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:08:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:08:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:08:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:09:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0036s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:09:02] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 10-digit mobile number
[2026-01-21 13:09:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:09:08] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 10-digit mobile number
[2026-01-21 13:09:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:09:10] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 10-digit mobile number
[2026-01-21 13:09:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:09:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 13:09:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0024s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 13:09:17] [INFO    ] [BillingSoftware.ui.error_handler] [show_success:61] - UI Success [Success]: Party saved successfully!
[2026-01-21 13:09:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:09:22] [DEBUG   ] [BillingSoftware.ui.error_handler] [ask_confirmation:88] - UI Confirmation [Confirm Delete]: Are you sure you want to delete 'SALIM 4'?

This action cannot be undone.
[2026-01-21 13:09:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0018s, rows=1): DELETE FROM parties WHERE id = ? [with 1 params]
[2026-01-21 13:09:23] [INFO    ] [BillingSoftware.ui.error_handler] [show_success:61] - UI Success [Success]: Party 'SALIM 4' deleted successfully!
[2026-01-21 13:09:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:09:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0029s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:09:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:09:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:09:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:10:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:10:02] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 15-character GSTIN
[2026-01-21 13:10:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:10:05] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 15-character GSTIN
[2026-01-21 13:10:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:10:06] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 15-character GSTIN
[2026-01-21 13:10:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:10:56] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 15-character GSTIN
[2026-01-21 13:10:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:10:57] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 15-character GSTIN
[2026-01-21 13:10:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:10:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:10:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:10:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:10:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:10:59] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 15-character GSTIN
[2026-01-21 13:11:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:11:00] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 15-character GSTIN
[2026-01-21 13:11:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0144s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:11:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:11:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:11:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:12:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0047s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:12:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 13:12:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:12:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:13:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:13:09] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 15-character GSTIN
[2026-01-21 13:13:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:13:10] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 15-character GSTIN
[2026-01-21 13:13:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 13:13:18] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 15-character GSTIN
[2026-01-21 14:17:53] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 14:17:53] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 14:17:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 14:17:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:17:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:17:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:17:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:17:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 14:17:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:17:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:17:53] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:17:54] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 14:17:54] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0078s
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 14:17:54] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 14:17:54] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 14:17:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:17:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:17:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:17:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:17:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:17:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:17:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:17:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:18:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:18:28] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 10-character PAN
[2026-01-21 14:18:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:18:39] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 10-character PAN
[2026-01-21 14:18:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:18:49] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 10-character PAN
[2026-01-21 14:18:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0022s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:18:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:18:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:18:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:19:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:19:02] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 10-character PAN
[2026-01-21 14:19:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=48): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:19:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 14:19:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0022s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 14:19:06] [INFO    ] [BillingSoftware.ui.error_handler] [show_success:61] - UI Success [Success]: Party saved successfully!
[2026-01-21 14:19:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:19:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:19:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:19:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:19:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:19:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:19:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:19:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:20:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:20:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:28:44] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:28:44] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:28:44] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:28:45] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 14:28:45] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0057s
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 14:28:45] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:28:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:28:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0027s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:28:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:28:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:28:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:29:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0036s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:29:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0025s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:29:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:29:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:30:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0025s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:30:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0020s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:30:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:30:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:31:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0025s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:31:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:31:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:31:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:32:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0172s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:32:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:32:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:32:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:33:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0025s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:33:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:33:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:33:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:34:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0049s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:34:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0029s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:34:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:34:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:32] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:35:32] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:32] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0006s
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 14:35:32] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0058s
[2026-01-21 14:35:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 14:35:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 14:35:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 14:35:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 14:35:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 14:35:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 14:35:33] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 14:35:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0003s
[2026-01-21 14:35:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:35:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:35:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:38] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Duplicate Name]: A party with the name 'FAIZ 1' already exists
[2026-01-21 14:35:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:44] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Duplicate Name]: A party with the name 'FAIZ 1' already exists
[2026-01-21 14:35:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:35:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 14:35:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0023s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 14:35:48] [INFO    ] [BillingSoftware.ui.error_handler] [show_success:61] - UI Success [Success]: Party saved successfully!
[2026-01-21 14:36:04] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:36:04] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:36:04] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:36:04] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:36:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:36:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:36:19] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid email address
[2026-01-21 14:36:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:36:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): 
            UPDATE parties SET 
                name = ?, mobile = ?, email = ?, party_type = ?, 
                gst_number = ?, pan = ?, address = ?, city = ?, 
                state = ?, pincode = ?, opening_balance = ?, balance_type = ?
            WHERE id = ?
             [with 13 params]
[2026-01-21 14:36:27] [INFO    ] [BillingSoftware.ui.error_handler] [show_success:61] - UI Success [Success]: Party saved successfully!
[2026-01-21 14:36:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:36:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0033s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:36:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:36:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:36:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:36:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:36:44] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 15-character GSTIN
[2026-01-21 14:36:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:36:48] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 15-character GSTIN
[2026-01-21 14:36:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:36:53] [WARNING ] [BillingSoftware.ui.error_handler] [show_validation_error:49] - Validation Error [Validation Error]: Please enter a valid 10-character PAN
[2026-01-21 14:37:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:37:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=1): 
            UPDATE parties SET 
                name = ?, mobile = ?, email = ?, party_type = ?, 
                gst_number = ?, pan = ?, address = ?, city = ?, 
                state = ?, pincode = ?, opening_balance = ?, balance_type = ?
            WHERE id = ?
             [with 13 params]
[2026-01-21 14:37:13] [INFO    ] [BillingSoftware.ui.error_handler] [show_success:61] - UI Success [Success]: Party saved successfully!
[2026-01-21 14:37:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:37:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:37:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:37:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:37:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:38:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0055s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:38:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:38:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:38:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:39:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0065s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:39:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:39:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:39:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:40:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0053s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:40:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0084s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:40:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:40:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:41:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0044s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:41:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:41:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:41:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:42:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0029s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:42:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:42:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:42:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:43:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0024s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:43:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:43:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:43:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:44:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0028s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:44:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:44:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:44:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:45:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0099s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:45:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0034s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:45:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:45:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:46:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0070s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:46:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0026s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:46:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:46:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:47:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0128s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:47:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:47:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:47:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:48:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0040s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:48:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:48:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:48:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:49:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0037s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:49:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:49:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:49:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:50:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0036s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:50:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0018s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:50:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:50:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:51:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0044s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:51:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:51:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:51:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:52:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0022s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:52:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:52:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:52:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:53:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:53:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:53:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:53:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:54:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0048s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:54:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:54:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:54:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:55:25] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:55:25] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:55:25] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0018s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:55:26] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 14:55:26] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0058s
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 14:55:26] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:55:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:57:38] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 14:57:38] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 14:57:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 14:57:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:57:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:57:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:57:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:57:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 14:57:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:57:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:57:38] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 14:58:05] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:58:05] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:58:05] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 14:58:05] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 14:58:06] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0057s
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 14:58:06] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 14:58:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:26] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:25:26] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:220] - Loading parties from database
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:26] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:232] - Fetched 50 parties from database
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:241] - After filtering: 50 parties
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:580] - Pagination: 50 items, 1 pages, current page: 1
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:358] - Stats updated: Total=50, Customers=41, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 15:25:26] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:252] - Party list loaded successfully. Page 1/1
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:26] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 15:25:26] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 15:25:26] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0058s
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 15:25:27] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0003s
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:40] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_filter_changed:481] - Filter changed - Type: all, Balance: dr
[2026-01-21 15:25:40] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:220] - Loading parties from database
[2026-01-21 15:25:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:40] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:232] - Fetched 50 parties from database
[2026-01-21 15:25:40] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_apply_filters:304] - After balance filter (dr): 48 parties
[2026-01-21 15:25:40] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:241] - After filtering: 48 parties
[2026-01-21 15:25:40] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:580] - Pagination: 48 items, 1 pages, current page: 1
[2026-01-21 15:25:40] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:358] - Stats updated: Total=50, Customers=41, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 15:25:40] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:252] - Party list loaded successfully. Page 1/1
[2026-01-21 15:25:43] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_filter_changed:481] - Filter changed - Type: all, Balance: cr
[2026-01-21 15:25:43] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:220] - Loading parties from database
[2026-01-21 15:25:43] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:43] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:232] - Fetched 50 parties from database
[2026-01-21 15:25:43] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_apply_filters:304] - After balance filter (cr): 2 parties
[2026-01-21 15:25:43] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:241] - After filtering: 2 parties
[2026-01-21 15:25:43] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:580] - Pagination: 2 items, 1 pages, current page: 1
[2026-01-21 15:25:43] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:358] - Stats updated: Total=50, Customers=41, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 15:25:43] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:252] - Party list loaded successfully. Page 1/1
[2026-01-21 15:25:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_filter_changed:481] - Filter changed - Type: all, Balance: all
[2026-01-21 15:25:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:220] - Loading parties from database
[2026-01-21 15:25:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:232] - Fetched 50 parties from database
[2026-01-21 15:25:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:241] - After filtering: 50 parties
[2026-01-21 15:25:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:580] - Pagination: 50 items, 1 pages, current page: 1
[2026-01-21 15:25:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:358] - Stats updated: Total=50, Customers=41, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 15:25:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:252] - Party list loaded successfully. Page 1/1
[2026-01-21 15:25:50] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_force_upper_search:446] - Search text converted to uppercase: S
[2026-01-21 15:25:50] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_changed:455] - Search text changed: 's'
[2026-01-21 15:25:50] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_debounce:467] - Search debounce triggered for: 'S'
[2026-01-21 15:25:50] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:220] - Loading parties from database
[2026-01-21 15:25:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:50] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:232] - Fetched 50 parties from database
[2026-01-21 15:25:50] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_apply_filters:284] - After search filter: 31 parties
[2026-01-21 15:25:50] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:241] - After filtering: 31 parties
[2026-01-21 15:25:50] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:580] - Pagination: 31 items, 1 pages, current page: 1
[2026-01-21 15:25:50] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:358] - Stats updated: Total=50, Customers=41, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 15:25:50] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:252] - Party list loaded successfully. Page 1/1
[2026-01-21 15:25:52] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_force_upper_search:446] - Search text converted to uppercase: 
[2026-01-21 15:25:52] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_changed:455] - Search text changed: ''
[2026-01-21 15:25:52] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_debounce:467] - Search debounce triggered for: ''
[2026-01-21 15:25:52] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:220] - Loading parties from database
[2026-01-21 15:25:52] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:25:52] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:232] - Fetched 50 parties from database
[2026-01-21 15:25:52] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:241] - After filtering: 50 parties
[2026-01-21 15:25:52] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:580] - Pagination: 50 items, 1 pages, current page: 1
[2026-01-21 15:25:52] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:358] - Stats updated: Total=50, Customers=41, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 15:25:52] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:252] - Party list loaded successfully. Page 1/1
[2026-01-21 15:26:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:26:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:26:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:26:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:27:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0041s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:27:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:27:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:27:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:28:16] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_force_upper_search:446] - Search text converted to uppercase: F
[2026-01-21 15:28:16] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_changed:455] - Search text changed: 'f'
[2026-01-21 15:28:16] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_debounce:467] - Search debounce triggered for: 'F'
[2026-01-21 15:28:16] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:220] - Loading parties from database
[2026-01-21 15:28:16] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:28:16] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:232] - Fetched 50 parties from database
[2026-01-21 15:28:16] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_apply_filters:284] - After search filter: 16 parties
[2026-01-21 15:28:16] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:241] - After filtering: 16 parties
[2026-01-21 15:28:16] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:580] - Pagination: 16 items, 1 pages, current page: 1
[2026-01-21 15:28:16] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:358] - Stats updated: Total=50, Customers=41, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 15:28:16] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:252] - Party list loaded successfully. Page 1/1
[2026-01-21 15:28:17] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_force_upper_search:446] - Search text converted to uppercase: FA
[2026-01-21 15:28:17] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_changed:455] - Search text changed: 'Fa'
[2026-01-21 15:28:17] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_debounce:467] - Search debounce triggered for: 'FA'
[2026-01-21 15:28:17] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:220] - Loading parties from database
[2026-01-21 15:28:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:28:17] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:232] - Fetched 50 parties from database
[2026-01-21 15:28:17] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_apply_filters:284] - After search filter: 7 parties
[2026-01-21 15:28:17] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:241] - After filtering: 7 parties
[2026-01-21 15:28:17] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:580] - Pagination: 7 items, 1 pages, current page: 1
[2026-01-21 15:28:17] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:358] - Stats updated: Total=50, Customers=41, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 15:28:17] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:252] - Party list loaded successfully. Page 1/1
[2026-01-21 15:28:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_force_upper_search:446] - Search text converted to uppercase: FAI
[2026-01-21 15:28:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_changed:455] - Search text changed: 'FAi'
[2026-01-21 15:28:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_force_upper_search:446] - Search text converted to uppercase: FAIZ
[2026-01-21 15:28:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_changed:455] - Search text changed: 'FAIz'
[2026-01-21 15:28:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_debounce:467] - Search debounce triggered for: 'FAIZ'
[2026-01-21 15:28:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:220] - Loading parties from database
[2026-01-21 15:28:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:28:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:232] - Fetched 50 parties from database
[2026-01-21 15:28:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_apply_filters:284] - After search filter: 5 parties
[2026-01-21 15:28:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:241] - After filtering: 5 parties
[2026-01-21 15:28:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:580] - Pagination: 5 items, 1 pages, current page: 1
[2026-01-21 15:28:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:358] - Stats updated: Total=50, Customers=41, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 15:28:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:252] - Party list loaded successfully. Page 1/1
[2026-01-21 15:28:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_force_upper_search:446] - Search text converted to uppercase: 
[2026-01-21 15:28:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_changed:455] - Search text changed: ''
[2026-01-21 15:28:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_debounce:467] - Search debounce triggered for: ''
[2026-01-21 15:28:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:220] - Loading parties from database
[2026-01-21 15:28:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:28:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:232] - Fetched 50 parties from database
[2026-01-21 15:28:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:241] - After filtering: 50 parties
[2026-01-21 15:28:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:580] - Pagination: 50 items, 1 pages, current page: 1
[2026-01-21 15:28:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:358] - Stats updated: Total=50, Customers=41, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 15:28:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:252] - Party list loaded successfully. Page 1/1
[2026-01-21 15:28:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0038s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:28:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:28:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:28:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:29:21] [DEBUG   ] [BillingSoftware.ui.error_handler] [ask_confirmation:88] - UI Confirmation [Confirm Delete]: Are you sure you want to delete 'IRFAN COMPLI'?

Balance: 30,000.00

This action cannot be undone.
[2026-01-21 15:29:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0038s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:29:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:29:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=50): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:29:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:29:32] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_on_delete_party:540] - Delete cancelled by user for party 60
[2026-01-21 15:29:50] [DEBUG   ] [BillingSoftware.ui.error_handler] [ask_confirmation:88] - UI Confirmation [Confirm Delete]: Are you sure you want to delete 'SALIM 1'?

Balance: 0.00

This action cannot be undone.
[2026-01-21 15:29:53] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_delete_party:544] - Deleting party 66 (SALIM 1)
[2026-01-21 15:29:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0030s, rows=1): DELETE FROM parties WHERE id = ? [with 1 params]
[2026-01-21 15:29:53] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_delete_party:546] - Party 66 deleted successfully
[2026-01-21 15:29:53] [INFO    ] [BillingSoftware.ui.error_handler] [show_success:61] - UI Success [Success]: Party 'SALIM 1' deleted successfully!
[2026-01-21 15:29:54] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:220] - Loading parties from database
[2026-01-21 15:29:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:29:54] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:232] - Fetched 49 parties from database
[2026-01-21 15:29:54] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:241] - After filtering: 49 parties
[2026-01-21 15:29:54] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:580] - Pagination: 49 items, 1 pages, current page: 1
[2026-01-21 15:29:54] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:358] - Stats updated: Total=49, Customers=40, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 15:29:54] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:252] - Party list loaded successfully. Page 1/1
[2026-01-21 15:30:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:30:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:30:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:30:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:31:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0047s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:31:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:31:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:31:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:32:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0041s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:32:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0044s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:32:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:32:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:33:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:33:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:33:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:33:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:55:33] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:55:33] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:55:33] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:327] - Loading parties from database
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:55:34] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:339] - Fetched 49 parties from database
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:348] - After filtering: 49 parties
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:713] - Pagination: 49 items, 1 pages, current page: 1
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:738] - Pagination controls updated - Page 1/1
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:465] - Stats updated: Total=49, Customers=40, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 15:55:34] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:359] - Party list loaded successfully. Page 1/1
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:55:34] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0006s
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 15:55:34] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0061s
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 15:55:34] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:55:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:57:44] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:57:44] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:327] - Loading parties from database
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:57:44] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:339] - Fetched 49 parties from database
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:348] - After filtering: 49 parties
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:713] - Pagination: 49 items, 1 pages, current page: 1
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:738] - Pagination controls updated - Page 1/1
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:465] - Stats updated: Total=49, Customers=40, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 15:57:44] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:359] - Party list loaded successfully. Page 1/1
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:57:44] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 15:57:44] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0063s
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 15:57:44] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 15:57:44] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 15:57:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:57:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:57:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:57:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:57:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:57:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:57:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:57:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:58:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0027s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:58:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:58:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:58:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:59:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0020s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:59:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 15:59:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:59:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:59:48] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:59:48] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 15:59:48] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:59:48] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 15:59:48] [INFO    ] [BillingSoftware.__main__] [main:305] - Using database: /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 15:59:48] [INFO    ] [BillingSoftware.__main__] [main:306] - Company ID: 1
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:59:48] [INFO    ] [BillingSoftware.__main__] [generate_500_parties:205] - Starting generation of 500 dummy parties...
[2026-01-21 15:59:48] [INFO    ] [BillingSoftware.__main__] [generate_500_parties:211] - Generating 250 Customer parties...
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:231] - Generated 50 customer parties
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:231] - Generated 100 customer parties
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:231] - Generated 150 customer parties
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:231] - Generated 200 customer parties
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:231] - Generated 250 customer parties
[2026-01-21 15:59:48] [INFO    ] [BillingSoftware.__main__] [generate_500_parties:234] - Generating 250 Supplier parties...
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:254] - Generated 50 supplier parties (total 300)
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:254] - Generated 100 supplier parties (total 350)
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:254] - Generated 150 supplier parties (total 400)
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:254] - Generated 200 supplier parties (total 450)
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:254] - Generated 250 supplier parties (total 500)
[2026-01-21 15:59:48] [INFO    ] [BillingSoftware.__main__] [generate_500_parties:257] - Inserting 500 parties into database...
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:267] - Inserted 50 parties (Success: 50, Failed: 0)
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:267] - Inserted 100 parties (Success: 100, Failed: 0)
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0026s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0021s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:267] - Inserted 150 parties (Success: 150, Failed: 0)
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0021s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0031s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:267] - Inserted 200 parties (Success: 200, Failed: 0)
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:267] - Inserted 250 parties (Success: 250, Failed: 0)
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0034s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0029s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0018s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0024s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0025s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:267] - Inserted 300 parties (Success: 300, Failed: 0)
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0024s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0020s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0034s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0031s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0031s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0021s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0018s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0025s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:267] - Inserted 350 parties (Success: 350, Failed: 0)
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:267] - Inserted 400 parties (Success: 400, Failed: 0)
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0034s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0020s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0034s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:267] - Inserted 450 parties (Success: 450, Failed: 0)
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0020s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT id FROM parties 
                WHERE company_id = ? AND UPPER(name) = UPPER(?) LIMIT 1
                 [with 2 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=1): 
            INSERT INTO parties(company_id, name, mobile, email, party_type, gst_number, pan, address, city, state, pincode, opening_balance, balance_type)
            VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?)
             [with 13 params]
[2026-01-21 15:59:49] [DEBUG   ] [BillingSoftware.__main__] [generate_500_parties:267] - Inserted 500 parties (Success: 500, Failed: 0)
[2026-01-21 15:59:49] [INFO    ] [BillingSoftware.__main__] [generate_500_parties:277] -  Party generation completed!
[2026-01-21 15:59:49] [INFO    ] [BillingSoftware.__main__] [generate_500_parties:278] -    Total parties created: 500
[2026-01-21 15:59:49] [INFO    ] [BillingSoftware.__main__] [generate_500_parties:279] -    Failed inserts: 0
[2026-01-21 15:59:49] [INFO    ] [BillingSoftware.__main__] [generate_500_parties:280] -    Success rate: 100.0%
[2026-01-21 15:59:49] [INFO    ] [BillingSoftware.__main__] [generate_500_parties:288] - 
 Party Distribution:
[2026-01-21 15:59:49] [INFO    ] [BillingSoftware.__main__] [generate_500_parties:289] -    Customers: 250
[2026-01-21 15:59:49] [INFO    ] [BillingSoftware.__main__] [generate_500_parties:290] -    Suppliers: 250
[2026-01-21 15:59:49] [INFO    ] [BillingSoftware.__main__] [generate_500_parties:291] -    Receivable (Dr): 184
[2026-01-21 15:59:49] [INFO    ] [BillingSoftware.__main__] [generate_500_parties:292] -    Payable (Cr): 162
[2026-01-21 15:59:49] [INFO    ] [BillingSoftware.__main__] [main:320] -  Script completed successfully!
[2026-01-21 15:59:55] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:59:55] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 15:59:55] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 15:59:55] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 15:59:55] [INFO    ] [BillingSoftware.__main__] [main:305] - Using database: /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 15:59:55] [INFO    ] [BillingSoftware.__main__] [main:306] - Company ID: 1
[2026-01-21 15:59:55] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=500): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 15:59:55] [WARNING ] [BillingSoftware.__main__] [main:311] -   Database already contains 500 parties
[2026-01-21 16:00:17] [INFO    ] [BillingSoftware.__main__] [main:314] - Cancelled by user
[2026-01-21 16:00:42] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:00:42] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:00:42] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:00:42] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:00:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=500): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:00:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0022s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:00:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:00:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:00:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:01:01] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:01:01] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:01:01] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:01:01] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): SELECT COUNT(*) as cnt FROM parties WHERE company_id = ? [with 1 params]
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): SELECT COUNT(*) as cnt FROM parties WHERE company_id = ? AND party_type = 'Customer' [with 1 params]
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=1): SELECT COUNT(*) as cnt FROM parties WHERE company_id = ? AND party_type = 'Supplier' [with 1 params]
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): SELECT COUNT(*) as cnt FROM parties WHERE company_id = ? AND balance_type = 'dr' AND opening_balance > 0 [with 1 params]
[2026-01-21 16:01:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): SELECT COUNT(*) as cnt FROM parties WHERE company_id = ? AND balance_type = 'cr' AND opening_balance > 0 [with 1 params]
[2026-01-21 16:01:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0021s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:01:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0031s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:01:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:01:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:01:46] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:01:46] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:01:46] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:01:46] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:01:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=500): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:19] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:02:19] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:02:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:02:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:02:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:02:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:02:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:02:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:02:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:02:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:02:19] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:327] - Loading parties from database
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:339] - Fetched 49 parties from database
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:348] - After filtering: 49 parties
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:713] - Pagination: 49 items, 1 pages, current page: 1
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:738] - Pagination controls updated - Page 1/1
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:465] - Stats updated: Total=49, Customers=40, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 16:02:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:359] - Party list loaded successfully. Page 1/1
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:20] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0006s
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 16:02:20] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0058s
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 16:02:20] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:02:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:56] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:02:56] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:327] - Loading parties from database
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:56] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:339] - Fetched 49 parties from database
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:348] - After filtering: 49 parties
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:713] - Pagination: 49 items, 1 pages, current page: 1
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:738] - Pagination controls updated - Page 1/1
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:465] - Stats updated: Total=49, Customers=40, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 16:02:56] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:359] - Party list loaded successfully. Page 1/1
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:56] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0007s
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 16:02:56] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0060s
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 16:02:56] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 16:02:56] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 16:02:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:02:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:02:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:02:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:02] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:05:02] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:327] - Loading parties from database
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:03] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:339] - Fetched 49 parties from database
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:348] - After filtering: 49 parties
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:727] - Pagination: 49 items, 1 pages, current page: 1
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:752] - Pagination controls updated - Page 1/1
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:465] - Stats updated: Total=49, Customers=40, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:482] - Populating table with 49 parties, starting row num: 1
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:556] - Table populated with 49 rows
[2026-01-21 16:05:03] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:359] - Party list loaded successfully. Page 1/1
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:03] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 16:05:03] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0060s
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 16:05:03] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:05:05] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 16:05:05] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 16:05:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:05:05] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 16:05:05] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 16:05:05] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0017s
[2026-01-21 16:06:44] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:06:44] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:06:44] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:327] - Loading parties from database
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:06:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:339] - Fetched 49 parties from database
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:348] - After filtering: 49 parties
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:727] - Pagination: 49 items, 1 pages, current page: 1
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:752] - Pagination controls updated - Page 1/1
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:465] - Stats updated: Total=49, Customers=40, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:482] - Populating table with 49 parties, starting row num: 1
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:556] - Table populated with 49 rows
[2026-01-21 16:06:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:359] - Party list loaded successfully. Page 1/1
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:06:45] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0007s
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 16:06:45] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0063s
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 16:06:45] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:06:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:06:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:10:22] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:10:22] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:10:22] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:10:22] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=500): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): SELECT COUNT(*) as cnt FROM parties WHERE company_id = ? [with 1 params]
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=1): SELECT COUNT(*) as cnt FROM parties
[2026-01-21 16:10:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=5): SELECT id, name, company_id FROM parties LIMIT 5
[2026-01-21 16:12:09] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:12:09] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:12:09] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:12:09] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=500): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=500): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:12:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=1): SELECT COUNT(*) as cnt FROM parties WHERE company_id = 1
[2026-01-21 16:13:06] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:13:06] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:13:06] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:330] - Loading parties from database
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:07] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:342] -  Fetched 49 TOTAL parties from database
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:354] -  After filtering: 49 parties (from 49 total)
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:738] - Pagination: 49 items, 1 pages, current page: 1
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:763] - Pagination controls updated - Page 1/1
[2026-01-21 16:13:07] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:360] -  STATS: Showing stats for 49 TOTAL parties
[2026-01-21 16:13:07] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:361] -  PAGINATION: Showing page 1 of 1 (49 after filters)
[2026-01-21 16:13:07] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:439] -  _update_stats called with 49 parties
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:476] - Stats updated: Total=49, Customers=40, Suppliers=9, Receivable=156000.0, Payable=45000.0
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:366] -  Populating table with 49 parties for page 1
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:493] - Populating table with 49 parties, starting row num: 1
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:567] - Table populated with 49 rows
[2026-01-21 16:13:07] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:369] - Party list loaded successfully. Page 1/1
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:07] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 16:13:07] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0065s
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0027s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 16:13:07] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:13:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:13:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:13:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:14:24] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:14:24] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:330] - Loading parties from database
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:14:24] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:342] -  Fetched 49 TOTAL parties from database
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:354] -  After filtering: 49 parties (from 49 total)
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:739] - Pagination: 49 items, 1 pages, current page: 1
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 1/1
[2026-01-21 16:14:24] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:360] -  STATS: Showing stats for 49 TOTAL parties
[2026-01-21 16:14:24] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:361] -  PAGINATION: Showing page 1 of 1 (49 after filters)
[2026-01-21 16:14:24] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:439] -  _update_stats called with 49 parties
[2026-01-21 16:14:24] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:476] -  Stats updated successfully:
[2026-01-21 16:14:24] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:477] -    Total: 49, Customers: 40, Suppliers: 9
[2026-01-21 16:14:24] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:478] -    Receivable: 156000.0, Payable: 45000.0
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:366] -  Populating table with 49 parties for page 1
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 1
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:14:24] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:369] - Party list loaded successfully. Page 1/1
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:14:24] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0006s
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 16:14:24] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 16:14:24] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0061s
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 16:14:25] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=49): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:14:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:16:56] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:16:56] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:16:56] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:16:56] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): SELECT COUNT(*) as cnt FROM parties WHERE company_id = 15
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=5): SELECT id, name, company_id FROM parties WHERE company_id = 15 LIMIT 5
[2026-01-21 16:16:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=2): SELECT DISTINCT company_id FROM parties ORDER BY company_id
[2026-01-21 16:17:46] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:17:46] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:17:46] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:17:46] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): SELECT COUNT(*) as cnt FROM parties WHERE company_id = 1
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0026s, rows=500): UPDATE parties SET company_id = 15 WHERE company_id = 1
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): SELECT COUNT(*) as cnt FROM parties WHERE company_id = 1
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): SELECT COUNT(*) as cnt FROM parties WHERE company_id = 15
[2026-01-21 16:17:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=1): SELECT company_id, COUNT(*) as cnt FROM parties GROUP BY company_id ORDER BY company_id
[2026-01-21 16:17:58] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:17:58] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:330] - Loading parties from database
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:17:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:342] -  Fetched 549 TOTAL parties from database
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:354] -  After filtering: 549 parties (from 549 total)
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_calculate_pagination:739] - Pagination: 549 items, 12 pages, current page: 1
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 1/12
[2026-01-21 16:17:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:360] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 16:17:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:361] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 16:17:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:439] -  _update_stats called with 549 parties
[2026-01-21 16:17:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:476] -  Stats updated successfully:
[2026-01-21 16:17:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:477] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 16:17:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:478] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:366] -  Populating table with 49 parties for page 1
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 1
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:17:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:369] - Party list loaded successfully. Page 1/12
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:17:58] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 16:17:58] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 16:17:58] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0057s
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 16:17:59] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:17:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:18:08] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 2
[2026-01-21 16:18:08] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 50
[2026-01-21 16:18:08] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:08] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 2/12
[2026-01-21 16:18:12] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 3
[2026-01-21 16:18:12] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 99
[2026-01-21 16:18:12] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:12] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 3/12
[2026-01-21 16:18:13] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 4
[2026-01-21 16:18:13] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 148
[2026-01-21 16:18:13] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:13] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 4/12
[2026-01-21 16:18:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 5
[2026-01-21 16:18:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 197
[2026-01-21 16:18:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 5/12
[2026-01-21 16:18:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 6
[2026-01-21 16:18:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 246
[2026-01-21 16:18:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 6/12
[2026-01-21 16:18:15] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 7
[2026-01-21 16:18:15] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 295
[2026-01-21 16:18:15] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:15] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 7/12
[2026-01-21 16:18:15] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 8
[2026-01-21 16:18:15] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 344
[2026-01-21 16:18:15] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:15] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 8/12
[2026-01-21 16:18:15] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 9
[2026-01-21 16:18:15] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 393
[2026-01-21 16:18:15] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:15] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 9/12
[2026-01-21 16:18:15] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 10
[2026-01-21 16:18:15] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 442
[2026-01-21 16:18:15] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:15] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 10/12
[2026-01-21 16:18:16] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 11
[2026-01-21 16:18:16] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 491
[2026-01-21 16:18:16] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:16] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 11/12
[2026-01-21 16:18:16] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 12
[2026-01-21 16:18:16] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 10 parties, starting row num: 540
[2026-01-21 16:18:16] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 10 rows
[2026-01-21 16:18:16] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 12/12
[2026-01-21 16:18:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 11
[2026-01-21 16:18:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 491
[2026-01-21 16:18:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 11/12
[2026-01-21 16:18:19] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 10
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 442
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 10/12
[2026-01-21 16:18:19] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 9
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 393
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 9/12
[2026-01-21 16:18:19] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 8
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 344
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 8/12
[2026-01-21 16:18:19] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 7
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 295
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 7/12
[2026-01-21 16:18:19] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 6
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 246
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:19] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 6/12
[2026-01-21 16:18:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 5
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 197
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 5/12
[2026-01-21 16:18:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 4
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 148
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 4/12
[2026-01-21 16:18:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 3
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 99
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 3/12
[2026-01-21 16:18:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 2
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 50
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 2/12
[2026-01-21 16:18:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 1
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 1
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 1/12
[2026-01-21 16:18:30] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 2
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 50
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 2/12
[2026-01-21 16:18:30] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 3
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 99
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 3/12
[2026-01-21 16:18:30] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 4
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 148
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 4/12
[2026-01-21 16:18:30] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 5
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 197
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 5/12
[2026-01-21 16:18:30] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 6
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 246
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:30] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 6/12
[2026-01-21 16:18:31] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 7
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 295
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 7/12
[2026-01-21 16:18:31] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 8
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 344
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 8/12
[2026-01-21 16:18:31] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 9
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 393
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 9/12
[2026-01-21 16:18:31] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 10
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 442
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 10/12
[2026-01-21 16:18:31] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 11
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 491
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 11/12
[2026-01-21 16:18:31] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_next_page:637] - Navigating to page 12
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 10 parties, starting row num: 540
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 10 rows
[2026-01-21 16:18:31] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 12/12
[2026-01-21 16:18:35] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 11
[2026-01-21 16:18:35] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 491
[2026-01-21 16:18:35] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:35] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 11/12
[2026-01-21 16:18:36] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 10
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 442
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 10/12
[2026-01-21 16:18:36] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 9
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 393
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 9/12
[2026-01-21 16:18:36] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 8
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 344
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 8/12
[2026-01-21 16:18:36] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 7
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 295
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 7/12
[2026-01-21 16:18:36] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 6
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 246
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 6/12
[2026-01-21 16:18:36] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 5
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 197
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 5/12
[2026-01-21 16:18:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 4
[2026-01-21 16:18:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 148
[2026-01-21 16:18:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 4/12
[2026-01-21 16:18:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 3
[2026-01-21 16:18:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 99
[2026-01-21 16:18:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 3/12
[2026-01-21 16:18:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 2
[2026-01-21 16:18:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 50
[2026-01-21 16:18:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 2/12
[2026-01-21 16:18:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_previous_page:624] - Navigating to page 1
[2026-01-21 16:18:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:494] - Populating table with 49 parties, starting row num: 1
[2026-01-21 16:18:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:568] - Table populated with 49 rows
[2026-01-21 16:18:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_update_pagination_controls:764] - Pagination controls updated - Page 1/12
[2026-01-21 16:23:47] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:23:47] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:23:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:23:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:23:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:23:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:23:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:23:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:23:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:23:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:23:47] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:23:58] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:23:58] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:23:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:23:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:23:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:23:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:23:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:23:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:23:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:23:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:23:58] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:24:32] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:24:32] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0039s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:230] - Pagination widget created and configured
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:245] - Loading parties from database
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:24:32] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:257] -  Fetched 549 TOTAL parties from database
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:269] -  After filtering: 549 parties (from 549 total)
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 16:24:32] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:285] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 16:24:32] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:286] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 16:24:32] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:364] -  _update_stats called with 549 parties
[2026-01-21 16:24:32] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:401] -  Stats updated successfully:
[2026-01-21 16:24:32] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:402] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 16:24:32] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:403] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:291] -  Populating table with 49 parties for page 1
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 1
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:24:32] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:294] - Party list loaded successfully. Page 1/12
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:24:32] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 16:24:32] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0061s
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 16:24:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:24:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 16:24:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 16:24:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:24:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 16:24:33] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 16:24:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 16:24:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:24:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:24:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:24:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:24:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:24:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:24:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:24:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:24:36] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 2
[2026-01-21 16:24:36] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 2
[2026-01-21 16:24:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 50
[2026-01-21 16:24:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:24:36] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 2/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:24:37] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 3
[2026-01-21 16:24:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 3
[2026-01-21 16:24:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 99
[2026-01-21 16:24:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:24:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 3/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:24:37] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 4
[2026-01-21 16:24:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 4
[2026-01-21 16:24:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 148
[2026-01-21 16:24:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:24:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 4/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:24:37] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 5
[2026-01-21 16:24:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 5
[2026-01-21 16:24:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 197
[2026-01-21 16:24:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:24:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 5/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:24:37] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 6
[2026-01-21 16:24:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 6
[2026-01-21 16:24:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 246
[2026-01-21 16:24:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:24:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 6/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:08] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:26:08] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:26:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:26:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:26:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:26:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:26:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:26:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:26:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:26:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:26:08] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:26:22] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:26:22] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:26:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:26:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:26:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:26:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:26:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:26:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:26:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:26:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:26:22] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:26:41] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:26:41] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:26:41] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:230] - Pagination widget created and configured
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:245] - Loading parties from database
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:26:42] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:257] -  Fetched 549 TOTAL parties from database
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:269] -  After filtering: 549 parties (from 549 total)
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 16:26:42] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:285] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 16:26:42] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:286] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 16:26:42] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:364] -  _update_stats called with 549 parties
[2026-01-21 16:26:42] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:401] -  Stats updated successfully:
[2026-01-21 16:26:42] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:402] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 16:26:42] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:403] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:291] -  Populating table with 49 parties for page 1
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 1
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:42] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:294] - Party list loaded successfully. Page 1/12
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:26:42] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 16:26:42] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0062s
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 16:26:42] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:26:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:26:46] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 2
[2026-01-21 16:26:46] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 2
[2026-01-21 16:26:46] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 50
[2026-01-21 16:26:46] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:46] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 2/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:46] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 3
[2026-01-21 16:26:46] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 3
[2026-01-21 16:26:46] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 99
[2026-01-21 16:26:46] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:46] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 3/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:47] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 4
[2026-01-21 16:26:47] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 4
[2026-01-21 16:26:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 148
[2026-01-21 16:26:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:47] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 4/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:47] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 5
[2026-01-21 16:26:47] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 5
[2026-01-21 16:26:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 197
[2026-01-21 16:26:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:47] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 5/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:47] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 6
[2026-01-21 16:26:47] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 6
[2026-01-21 16:26:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 246
[2026-01-21 16:26:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:47] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 6/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:47] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 7
[2026-01-21 16:26:47] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 7
[2026-01-21 16:26:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 295
[2026-01-21 16:26:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:47] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 7/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:48] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 8
[2026-01-21 16:26:48] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 8
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 344
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 8/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:48] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 9
[2026-01-21 16:26:48] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 9
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 393
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 9/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:48] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 10
[2026-01-21 16:26:48] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 10
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 442
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 10/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:48] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 11
[2026-01-21 16:26:48] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 11
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 491
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 11/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:48] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 12
[2026-01-21 16:26:48] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 12
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 10 parties, starting row num: 540
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 10 rows
[2026-01-21 16:26:48] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 12/12, Prev enabled: True, Next enabled: False
[2026-01-21 16:26:50] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 11
[2026-01-21 16:26:50] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 11
[2026-01-21 16:26:50] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 491
[2026-01-21 16:26:50] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:50] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 11/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:50] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 10
[2026-01-21 16:26:50] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 10
[2026-01-21 16:26:50] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 442
[2026-01-21 16:26:50] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:50] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 10/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:50] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 9
[2026-01-21 16:26:50] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 9
[2026-01-21 16:26:50] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 393
[2026-01-21 16:26:50] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:50] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 9/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:51] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 8
[2026-01-21 16:26:51] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 8
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 344
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 8/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:51] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 7
[2026-01-21 16:26:51] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 7
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 295
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 7/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:51] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 6
[2026-01-21 16:26:51] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 6
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 246
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 6/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:51] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 5
[2026-01-21 16:26:51] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 5
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 197
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 5/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:51] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 4
[2026-01-21 16:26:51] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 4
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 148
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 4/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:51] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 3
[2026-01-21 16:26:51] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 3
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 99
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:51] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 3/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:52] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 2
[2026-01-21 16:26:52] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 2
[2026-01-21 16:26:52] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 50
[2026-01-21 16:26:52] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:52] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 2/12, Prev enabled: True, Next enabled: True
[2026-01-21 16:26:52] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 1
[2026-01-21 16:26:52] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:554] - Pagination page changed to 1
[2026-01-21 16:26:52] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 1
[2026-01-21 16:26:52] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:26:52] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 16:57:17] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:57:17] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:57:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:230] - Pagination widget created and configured
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:245] - Loading parties from database
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:57:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:257] -  Fetched 549 TOTAL parties from database
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:269] -  After filtering: 549 parties (from 549 total)
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 16:57:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:285] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 16:57:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:286] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 16:57:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:364] -  _update_stats called with 549 parties
[2026-01-21 16:57:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:401] -  Stats updated successfully:
[2026-01-21 16:57:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:402] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 16:57:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:403] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:291] -  Populating table with 49 parties for page 1
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:422] - Populating table with 49 parties, starting row num: 1
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:496] - Table populated with 49 rows
[2026-01-21 16:57:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:294] - Party list loaded successfully. Page 1/12
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:57:18] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0006s
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 16:57:18] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0065s
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 16:57:18] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:57:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 16:57:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 17:14:17] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:14:17] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:14:17] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 17:14:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 17:14:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 17:14:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 17:14:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 17:14:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 17:14:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 17:14:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:18] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 17:14:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:222] - Loaded 19 products
[2026-01-21 17:14:18] [ERROR   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:273] - Failed to apply filters: set_pagination_state() missing 1 required positional argument: 'total_pages'
[2026-01-21 17:14:18] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Filter Error]: Failed to apply filters: set_pagination_state() missing 1 required positional argument: 'total_pages'
[2026-01-21 17:14:33] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:14:33] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:33] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 17:14:33] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 17:14:33] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 17:14:33] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 17:14:33] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 17:14:33] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 17:14:33] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 17:14:33] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:33] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 17:14:33] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:222] - Loaded 19 products
[2026-01-21 17:14:33] [ERROR   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:273] - Failed to apply filters: set_pagination_state() missing 1 required positional argument: 'total_pages'
[2026-01-21 17:14:33] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Filter Error]: Failed to apply filters: set_pagination_state() missing 1 required positional argument: 'total_pages'
[2026-01-21 17:14:35] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 17:14:35] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 17:14:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 17:14:35] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 17:14:35] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0058s
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 17:14:36] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 17:14:39] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0059s
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 17:14:39] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:14:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:27] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:15:27] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:15:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:15:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:15:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:15:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:15:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:15:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:15:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:15:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:15:27] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:15:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:28] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 17:15:28] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 17:15:28] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 17:15:28] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 17:15:28] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 17:15:28] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 17:15:28] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 17:15:28] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:28] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:222] - Loaded 19 products
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:274] - Filters applied: 19 products shown
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 17:15:28] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0056s
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 17:15:28] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 17:15:28] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 17:15:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:15:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:15:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:35] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_changed:492] - Search text changed: 'f'
[2026-01-21 17:15:35] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_changed:492] - Search text changed: 'Fa'
[2026-01-21 17:15:35] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_debounce:504] - Search debounce triggered for: 'FA'
[2026-01-21 17:15:35] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 17:15:35] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [reset_to_page_one:206] - Pagination reset to page 1
[2026-01-21 17:15:35] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 17:15:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0020s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:35] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 17:15:35] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_apply_filters:300] - After search filter: 33 parties
[2026-01-21 17:15:35] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 33 parties (from 549 total)
[2026-01-21 17:15:35] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 33
[2026-01-21 17:15:35] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 17:15:35] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 17:15:35] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 1 (33 after filters)
[2026-01-21 17:15:35] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 17:15:35] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 17:15:35] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 17:15:35] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 17:15:35] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 33 parties for page 1
[2026-01-21 17:15:35] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 33 parties, starting row num: 1
[2026-01-21 17:15:35] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 33 rows
[2026-01-21 17:15:35] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/1
[2026-01-21 17:15:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_changed:492] - Search text changed: 'FAi'
[2026-01-21 17:15:36] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_changed:492] - Search text changed: 'FAIz'
[2026-01-21 17:15:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_debounce:504] - Search debounce triggered for: 'FAIZ'
[2026-01-21 17:15:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 17:15:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [reset_to_page_one:206] - Pagination reset to page 1
[2026-01-21 17:15:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 17:15:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0021s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 17:15:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_apply_filters:300] - After search filter: 5 parties
[2026-01-21 17:15:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 5 parties (from 549 total)
[2026-01-21 17:15:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 5
[2026-01-21 17:15:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 17:15:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 17:15:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 1 (5 after filters)
[2026-01-21 17:15:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 17:15:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 17:15:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 17:15:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 17:15:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 5 parties for page 1
[2026-01-21 17:15:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 5 parties, starting row num: 1
[2026-01-21 17:15:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 5 rows
[2026-01-21 17:15:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/1
[2026-01-21 17:15:40] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_changed:492] - Search text changed: ''
[2026-01-21 17:15:41] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_search_debounce:504] - Search debounce triggered for: ''
[2026-01-21 17:15:41] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 17:15:41] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [reset_to_page_one:206] - Pagination reset to page 1
[2026-01-21 17:15:41] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 17:15:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0023s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:15:41] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 17:15:41] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 17:15:41] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 17:15:41] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 17:15:41] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 17:15:41] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 17:15:41] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 17:15:41] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 17:15:41] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 17:15:41] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 17:15:41] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 17:15:41] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 17:15:41] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 17:15:41] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 17:15:45] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 2
[2026-01-21 17:15:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:530] - Pagination page changed to 2
[2026-01-21 17:15:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 50
[2026-01-21 17:15:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 17:15:45] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 2/12, Prev enabled: True, Next enabled: True
[2026-01-21 17:15:45] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 3
[2026-01-21 17:15:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:530] - Pagination page changed to 3
[2026-01-21 17:15:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 99
[2026-01-21 17:15:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 17:15:45] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 3/12, Prev enabled: True, Next enabled: True
[2026-01-21 17:15:46] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 4
[2026-01-21 17:15:46] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:530] - Pagination page changed to 4
[2026-01-21 17:15:46] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 148
[2026-01-21 17:15:46] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 17:15:46] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 4/12, Prev enabled: True, Next enabled: True
[2026-01-21 17:15:46] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 5
[2026-01-21 17:15:46] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:530] - Pagination page changed to 5
[2026-01-21 17:15:46] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 197
[2026-01-21 17:15:46] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 17:15:46] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 5/12, Prev enabled: True, Next enabled: True
[2026-01-21 17:15:46] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 6
[2026-01-21 17:15:46] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_on_pagination_page_changed:530] - Pagination page changed to 6
[2026-01-21 17:15:46] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 246
[2026-01-21 17:15:46] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 17:15:46] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 6/12, Prev enabled: True, Next enabled: True
[2026-01-21 17:19:36] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:19:36] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:19:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:19:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:19:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:19:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:19:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:19:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:19:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:19:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:19:36] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:20:03] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:20:03] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:20:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:20:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:20:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:20:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:20:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:20:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:20:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:20:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:20:03] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:21:13] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:21:13] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:21:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:21:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:21:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:21:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:21:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:21:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:21:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:21:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:21:13] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:22:11] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:22:11] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:22:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:22:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:22:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:22:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:22:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:22:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:22:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:22:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:22:11] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:22:11] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 17:23:27] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:23:27] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:23:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:23:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:23:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:23:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:23:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:23:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:23:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:23:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:23:27] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:23:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 17:32:31] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:32:31] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:32:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:32:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:32:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:32:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:32:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:32:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:32:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:32:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:32:31] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:32:31] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 17:32:44] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:32:44] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:32:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:32:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:32:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:32:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:32:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:32:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:32:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:32:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:32:44] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:42:33] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:42:33] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:42:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:42:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:42:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:42:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:42:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:42:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:42:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:42:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:42:33] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:42:33] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 17:42:41] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:42:41] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:42:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:42:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:42:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:42:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:42:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:42:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:42:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:42:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:42:41] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:42:41] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 17:45:53] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:45:53] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:45:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:45:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:45:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:45:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:45:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:45:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:45:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:45:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:45:53] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:45:53] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 17:46:07] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:46:07] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:46:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:46:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:46:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:46:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:46:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:46:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:46:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:46:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:46:07] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:46:07] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:46:08] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 17:46:08] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 17:46:08] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 17:46:08] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 17:46:08] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 17:46:08] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 17:46:08] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 17:46:08] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:46:08] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:222] - Loaded 19 products
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:274] - Filters applied: 19 products shown
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [__init__:68] - Initializing InvoicesScreen
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by invoice #, party name...
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 17:46:08] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0064s
[2026-01-21 17:46:08] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_invoices:228] - Loaded 213 invoices
[2026-01-21 17:46:08] [ERROR   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_update_party_filter:308] - Failed to update party filter: 'InvoiceController' object has no attribute 'get_unique_parties'
[2026-01-21 17:46:08] [ERROR   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_apply_filters:285] - Failed to apply filters: filter_invoices() got an unexpected keyword argument 'status'
[2026-01-21 17:46:08] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Filter Error]: Failed to apply filters: filter_invoices() got an unexpected keyword argument 'status'
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [__init__:44] - Initializing PurchasesScreen
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by invoice #, supplier name...
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: supplier
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:46:13] [ERROR   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_invoices:159] - Failed to load purchase invoices: 'InvoiceController' object has no attribute 'get_all_purchase_invoices'
[2026-01-21 17:46:13] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Load Error]: Failed to load purchase invoices: 'InvoiceController' object has no attribute 'get_all_purchase_invoices'
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [__init__:39] - Initializing ReceiptsScreen
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by receipt #, customer name...
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: customer
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:46:13] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:46:13] [ERROR   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_receipts:145] - Failed to load receipts: 'ReceiptController' object has no attribute 'get_all_receipts'
[2026-01-21 17:46:13] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Load Error]: Failed to load receipts: 'ReceiptController' object has no attribute 'get_all_receipts'
[2026-01-21 17:46:14] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [__init__:39] - Initializing PaymentsScreen
[2026-01-21 17:46:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:46:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by party name, payment ref...
[2026-01-21 17:46:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 17:46:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 17:46:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 17:46:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:46:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:46:14] [ERROR   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_payments:144] - Failed to load payments: 'PaymentController' object has no attribute 'get_all_payments'
[2026-01-21 17:46:14] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Load Error]: Failed to load payments: 'PaymentController' object has no attribute 'get_all_payments'
[2026-01-21 17:46:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:46:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:46:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:46:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:46:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:46:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:46:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:46:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:56:48] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:56:48] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:56:48] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0022s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0026s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:56:49] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 17:56:49] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 17:56:49] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 17:56:49] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 17:56:49] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 17:56:49] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 17:56:49] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 17:56:49] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:56:49] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:222] - Loaded 19 products
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:274] - Filters applied: 19 products shown
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [__init__:68] - Initializing InvoicesScreen
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by invoice #, party name...
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 17:56:49] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0066s
[2026-01-21 17:56:49] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_invoices:228] - Loaded 213 invoices
[2026-01-21 17:56:49] [ERROR   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_update_party_filter:308] - Failed to update party filter: 'InvoiceController' object has no attribute 'get_unique_parties'
[2026-01-21 17:56:49] [ERROR   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_apply_filters:285] - Failed to apply filters: filter_invoices() got an unexpected keyword argument 'status'
[2026-01-21 17:56:49] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Filter Error]: Failed to apply filters: filter_invoices() got an unexpected keyword argument 'status'
[2026-01-21 17:56:52] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [__init__:44] - Initializing PurchasesScreen
[2026-01-21 17:56:52] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:56:52] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by invoice #, supplier name...
[2026-01-21 17:56:52] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 17:56:52] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 17:56:52] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: supplier
[2026-01-21 17:56:52] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:56:52] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:56:52] [ERROR   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_invoices:159] - Failed to load purchase invoices: 'InvoiceController' object has no attribute 'get_all_purchase_invoices'
[2026-01-21 17:56:52] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Load Error]: Failed to load purchase invoices: 'InvoiceController' object has no attribute 'get_all_purchase_invoices'
[2026-01-21 17:56:53] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [__init__:39] - Initializing ReceiptsScreen
[2026-01-21 17:56:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:56:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by receipt #, customer name...
[2026-01-21 17:56:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 17:56:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 17:56:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: customer
[2026-01-21 17:56:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:56:53] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:56:53] [ERROR   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_receipts:145] - Failed to load receipts: 'ReceiptController' object has no attribute 'get_all_receipts'
[2026-01-21 17:56:53] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Load Error]: Failed to load receipts: 'ReceiptController' object has no attribute 'get_all_receipts'
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [__init__:39] - Initializing PaymentsScreen
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by party name, payment ref...
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:56:54] [ERROR   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_payments:144] - Failed to load payments: 'PaymentController' object has no attribute 'get_all_payments'
[2026-01-21 17:56:54] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Load Error]: Failed to load payments: 'PaymentController' object has no attribute 'get_all_payments'
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:56:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:57:12] [ERROR   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_invoices:159] - Failed to load purchase invoices: 'InvoiceController' object has no attribute 'get_all_purchase_invoices'
[2026-01-21 17:57:12] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Load Error]: Failed to load purchase invoices: 'InvoiceController' object has no attribute 'get_all_purchase_invoices'
[2026-01-21 17:57:18] [ERROR   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_invoices:159] - Failed to load purchase invoices: 'InvoiceController' object has no attribute 'get_all_purchase_invoices'
[2026-01-21 17:57:18] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Load Error]: Failed to load purchase invoices: 'InvoiceController' object has no attribute 'get_all_purchase_invoices'
[2026-01-21 17:58:13] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:58:13] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:58:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:58:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:58:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:58:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:58:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:58:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:58:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:58:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:58:13] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:58:20] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:58:20] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:58:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:58:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:58:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:58:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:58:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:58:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:58:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:58:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:58:20] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:58:20] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:21] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 17:58:21] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 17:58:21] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 17:58:21] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 17:58:21] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 17:58:21] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 17:58:21] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 17:58:21] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:21] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:222] - Loaded 19 products
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:274] - Filters applied: 19 products shown
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 17:58:21] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0066s
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 17:58:21] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:21] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:58:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0022s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:23] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 17:58:23] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 17:58:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 17:58:23] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 17:58:23] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0016s
[2026-01-21 17:58:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 17:58:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 17:58:31] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:58:31] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:58:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:58:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:58:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:58:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:58:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:58:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:58:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:58:31] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:58:31] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:58:31] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 17:58:45] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:58:45] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 17:58:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 17:58:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 17:58:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 17:58:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 17:58:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 17:58:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 17:58:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:45] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:222] - Loaded 19 products
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:274] - Filters applied: 19 products shown
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 17:58:45] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 17:58:45] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0056s
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 17:58:46] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:47] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 17:58:47] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 17:58:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 17:58:47] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 17:58:47] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0018s
[2026-01-21 17:58:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 17:58:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 17:58:58] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 17:58:58] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 17:58:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 17:58:58] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 17:58:58] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0019s
[2026-01-21 17:58:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:58:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 17:58:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:58:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 17:59:02] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 17:59:02] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 17:59:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 17:59:02] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 17:59:02] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0018s
[2026-01-21 17:59:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 17:59:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 17:59:10] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 17:59:10] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 17:59:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 17:59:10] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 17:59:10] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 17:59:10] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0010s
[2026-01-21 18:11:44] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 18:11:44] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 18:11:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 18:11:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:11:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:11:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:11:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:11:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 18:11:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:11:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:11:44] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 18:11:44] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0022s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:11:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 18:11:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 18:11:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 18:11:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 18:11:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 18:11:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 18:11:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 18:11:45] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:11:45] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:222] - Loaded 19 products
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:274] - Filters applied: 19 products shown
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 18:11:45] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0070s
[2026-01-21 18:11:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 18:11:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 18:11:46] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 18:11:46] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 18:11:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 18:11:46] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 18:11:46] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 18:11:46] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 18:11:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:11:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:11:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:11:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:11:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:11:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:11:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:11:46] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:08] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 18:12:08] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 18:12:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 18:12:08] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 18:12:08] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0030s
[2026-01-21 18:12:08] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 18:12:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 18:12:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 18:12:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 18:12:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 18:12:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 18:12:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 18:12:14] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 18:12:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 18:12:16] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0018s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:16] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:12:16] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:16] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:16] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:16] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:12:16] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:16] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:18] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 18:12:18] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 18:12:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 18:12:18] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 18:12:18] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0017s
[2026-01-21 18:12:26] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:12:26] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:12:26] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 18:12:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 18:12:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 18:12:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 18:12:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 18:12:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 18:12:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 18:12:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:27] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:222] - Loaded 19 products
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:274] - Filters applied: 19 products shown
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 18:12:27] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0056s
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 18:12:27] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:12:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:12:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:20:53] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 18:20:53] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 18:20:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 18:20:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:20:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:20:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:20:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:20:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 18:20:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:20:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:20:53] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 18:20:53] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 18:25:47] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:25:47] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0018s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0021s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:25:47] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 18:25:47] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 18:25:47] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 18:25:47] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 18:25:47] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 18:25:47] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 18:25:47] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 18:25:47] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen_refactored] [__init__:71] - Initializing ProductsScreen
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:25:47] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0006s
[2026-01-21 18:25:47] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen_refactored] [_load_products:222] - Loaded 19 products
[2026-01-21 18:25:47] [ERROR   ] [BillingSoftware.ui.products.product_list_screen_refactored] [_apply_filters:273] - Failed to apply filters: set_pagination_state() missing 1 required positional argument: 'total_pages'
[2026-01-21 18:25:47] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Filter Error]: Failed to apply filters: set_pagination_state() missing 1 required positional argument: 'total_pages'
[2026-01-21 18:25:51] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen_refactored] [__init__:68] - Initializing InvoicesScreen
[2026-01-21 18:25:51] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:25:51] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by invoice #, party name...
[2026-01-21 18:25:51] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 18:25:51] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 18:25:51] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 18:25:51] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 18:25:51] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:25:51] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:25:51] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 18:25:51] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 18:25:51] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 18:25:51] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 18:25:51] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0100s
[2026-01-21 18:25:51] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen_refactored] [_load_invoices:228] - Loaded 213 invoices
[2026-01-21 18:25:51] [ERROR   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen_refactored] [_update_party_filter:308] - Failed to update party filter: 'InvoiceController' object has no attribute 'get_unique_parties'
[2026-01-21 18:25:51] [ERROR   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen_refactored] [_apply_filters:285] - Failed to apply filters: filter_invoices() got an unexpected keyword argument 'status'
[2026-01-21 18:25:51] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Filter Error]: Failed to apply filters: filter_invoices() got an unexpected keyword argument 'status'
[2026-01-21 18:26:03] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen_refactored] [__init__:44] - Initializing PurchaseInvoicesScreen
[2026-01-21 18:26:03] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:26:03] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by invoice #, supplier name...
[2026-01-21 18:26:03] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 18:26:03] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 18:26:03] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: supplier
[2026-01-21 18:26:03] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:26:03] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:26:03] [ERROR   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen_refactored] [_load_invoices:159] - Failed to load purchase invoices: 'InvoiceController' object has no attribute 'get_all_purchase_invoices'
[2026-01-21 18:26:03] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Load Error]: Failed to load purchase invoices: 'InvoiceController' object has no attribute 'get_all_purchase_invoices'
[2026-01-21 18:26:04] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen_refactored] [__init__:39] - Initializing ReceiptsScreen
[2026-01-21 18:26:04] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:26:04] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by receipt #, customer name...
[2026-01-21 18:26:04] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 18:26:04] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 18:26:04] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: customer
[2026-01-21 18:26:04] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:26:04] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:26:04] [ERROR   ] [BillingSoftware.ui.receipts.receipt_list_screen_refactored] [_load_receipts:145] - Failed to load receipts: 'ReceiptController' object has no attribute 'get_all_receipts'
[2026-01-21 18:26:04] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Load Error]: Failed to load receipts: 'ReceiptController' object has no attribute 'get_all_receipts'
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen_refactored] [__init__:39] - Initializing PaymentsScreen
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by party name, payment ref...
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:26:05] [ERROR   ] [BillingSoftware.ui.payments.payment_list_screen_refactored] [_load_payments:144] - Failed to load payments: 'PaymentController' object has no attribute 'get_all_payments'
[2026-01-21 18:26:05] [ERROR   ] [BillingSoftware.ui.error_handler] [show_error:31] - UI Error [Load Error]: Failed to load payments: 'PaymentController' object has no attribute 'get_all_payments'
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:26:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:11] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:27:11] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:27:11] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:12] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 18:27:12] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 18:27:12] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 18:27:12] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 18:27:12] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 18:27:12] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 18:27:12] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 18:27:12] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:12] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:222] - Loaded 19 products
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:274] - Filters applied: 19 products shown
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 18:27:12] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0062s
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 18:27:12] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:12] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:27:14] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 18:27:14] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 18:27:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 18:27:14] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 18:27:14] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0017s
[2026-01-21 18:27:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 18:46:37] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:46:37] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:46:37] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0018s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:46:38] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 18:46:38] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 18:46:38] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 18:46:38] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 18:46:38] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 18:46:38] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 18:46:38] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 18:46:38] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:46:38] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:222] - Loaded 19 products
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:274] - Filters applied: 19 products shown
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 18:46:38] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0084s
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 18:46:38] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:46:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:52:00] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:52:00] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 18:52:00] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:52:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 18:52:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 18:52:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 18:52:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 18:52:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 18:52:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 18:52:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 18:52:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:52:01] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:222] - Loaded 19 products
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:274] - Filters applied: 19 products shown
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 18:52:01] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0073s
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 18:52:01] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:52:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:52:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0021s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:52:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 18:52:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 18:52:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:40] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:09:40] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:40] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 19:09:40] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 19:09:40] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 19:09:40] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 19:09:40] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 19:09:40] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 19:09:40] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 19:09:40] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 19:09:40] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:40] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 19:09:40] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 19:09:41] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 19:09:41] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 19:09:41] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 19:09:41] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 19:09:41] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:09:41] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0073s
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 19:09:41] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:09:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 19:09:59] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:09:59] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:09:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:09:59] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:09:59] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0020s
[2026-01-21 19:10:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 19:10:04] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:28:37] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:28:37] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0066s
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 19:28:38] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:28:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:28:40] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:28:40] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:28:40] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:28:40] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:28:40] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0020s
[2026-01-21 19:33:19] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:33:19] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:33:19] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0060s
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 19:33:20] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:33:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:33:22] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:33:22] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:33:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:33:22] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:33:22] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0016s
[2026-01-21 19:33:27] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:33:27] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:33:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:33:27] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:33:27] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0016s
[2026-01-21 19:33:35] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:33:35] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:33:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:33:35] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:33:35] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0021s
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0005s
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:34:37] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:34:37] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0062s
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 19:34:38] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:34:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:34:39] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:34:39] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:34:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:34:39] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:34:39] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0016s
[2026-01-21 19:51:13] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:51:13] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 19:51:13] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search invoices...
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0058s
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 19:51:14] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:51:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:16] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:51:16] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:51:16] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:51:16] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:51:16] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0023s
[2026-01-21 19:51:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 19:51:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 19:51:33] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:51:33] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:51:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:51:33] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:51:33] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0028s
[2026-01-21 19:51:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:51:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 19:51:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 19:51:36] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:51:36] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:51:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:51:36] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:51:36] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0016s
[2026-01-21 19:51:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 19:51:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 19:51:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 19:51:42] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:51:42] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:51:42] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:51:42] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:51:42] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0019s
[2026-01-21 19:51:44] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 19:51:50] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 19:51:52] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 19:51:52] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 19:51:52] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 19:51:52] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 19:51:52] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0019s
[2026-01-21 20:01:23] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:01:23] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:01:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 20:01:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 20:01:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 20:01:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 20:01:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 20:01:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 20:01:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 20:01:23] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 20:01:24] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 20:01:24] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:01:24] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 20:01:24] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 20:01:24] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 20:01:24] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 20:01:24] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 20:01:24] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search invoices...
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:205] - Loading invoices from database
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 20:01:24] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0063s
[2026-01-21 20:01:24] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:209] -  Fetched 213 TOTAL invoices from database
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:229] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 20:01:24] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:236] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:240] -  Populating table with 213 filtered invoices
[2026-01-21 20:01:24] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:243] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 20:01:24] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:01:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:01:26] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:205] - Loading invoices from database
[2026-01-21 20:01:26] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 20:01:26] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 20:01:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 20:01:26] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 20:01:26] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0014s
[2026-01-21 20:01:26] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:209] -  Fetched 213 TOTAL invoices from database
[2026-01-21 20:01:26] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:229] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 20:01:26] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:236] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 20:01:26] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:240] -  Populating table with 213 filtered invoices
[2026-01-21 20:01:26] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:243] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 20:20:26] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 20:20:26] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 20:20:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 20:20:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:20:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:20:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:20:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:20:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 20:20:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:20:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:20:26] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search invoices...
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0056s
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 20:20:27] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 20:20:27] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 20:20:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:20:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 20:20:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:20:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:20:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:20:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 20:20:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:20:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:20:29] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 20:20:29] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 20:20:29] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 20:20:29] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 20:20:29] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 20:20:29] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0015s
[2026-01-21 20:20:29] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 20:20:29] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 20:20:29] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 20:20:29] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 20:20:29] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 20:20:29] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 20:20:29] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 20:20:29] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 20:20:31] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 2
[2026-01-21 20:20:31] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_on_pagination_page_changed:490] - Pagination page changed to 2
[2026-01-21 20:20:31] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 2/5, Prev enabled: True, Next enabled: True
[2026-01-21 20:20:33] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 3
[2026-01-21 20:20:33] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_on_pagination_page_changed:490] - Pagination page changed to 3
[2026-01-21 20:20:33] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 3/5, Prev enabled: True, Next enabled: True
[2026-01-21 20:20:34] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 4
[2026-01-21 20:20:34] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_on_pagination_page_changed:490] - Pagination page changed to 4
[2026-01-21 20:20:34] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 4/5, Prev enabled: True, Next enabled: True
[2026-01-21 20:20:35] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_next_clicked:196] - Pagination: Navigating to page 5
[2026-01-21 20:20:35] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_on_pagination_page_changed:490] - Pagination page changed to 5
[2026-01-21 20:20:35] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 5/5, Prev enabled: True, Next enabled: False
[2026-01-21 20:20:37] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 4
[2026-01-21 20:20:37] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_on_pagination_page_changed:490] - Pagination page changed to 4
[2026-01-21 20:20:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 4/5, Prev enabled: True, Next enabled: True
[2026-01-21 20:20:37] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 3
[2026-01-21 20:20:37] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_on_pagination_page_changed:490] - Pagination page changed to 3
[2026-01-21 20:20:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 3/5, Prev enabled: True, Next enabled: True
[2026-01-21 20:20:38] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 2
[2026-01-21 20:20:38] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_on_pagination_page_changed:490] - Pagination page changed to 2
[2026-01-21 20:20:38] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 2/5, Prev enabled: True, Next enabled: True
[2026-01-21 20:20:38] [INFO    ] [BillingSoftware.ui.base.pagination_widget] [_on_previous_clicked:187] - Pagination: Navigating to page 1
[2026-01-21 20:20:38] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_on_pagination_page_changed:490] - Pagination page changed to 1
[2026-01-21 20:20:38] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search invoices...
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0060s
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 20:21:01] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 20:21:01] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 20:21:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:21:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 20:21:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:21:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:21:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:21:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 20:21:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:21:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 20:21:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 20:21:05] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 20:21:05] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 20:21:05] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 20:21:05] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 20:21:05] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 20:21:05] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0031s
[2026-01-21 20:21:05] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 20:21:05] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 20:21:05] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 20:21:05] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 20:21:05] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 20:21:05] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 20:21:05] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 20:21:05] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 20:21:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 20:59:56] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 20:59:56] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 20:59:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 20:59:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:59:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:59:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:59:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:59:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 20:59:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:59:56] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:59:56] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 20:59:59] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 20:59:59] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 20:59:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 20:59:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:59:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 20:59:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:59:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:59:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 20:59:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 20:59:59] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 20:59:59] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 20:59:59] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0017s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0016s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0014s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search invoices...
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0082s
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search purchases...
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: supplier
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:00:00] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 21:00:00] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:00:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:00:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:00:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:00:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:00:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:00:02] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:00:02] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:00:02] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:00:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:00:02] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:00:02] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0027s
[2026-01-21 21:00:02] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:00:02] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:00:02] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:00:02] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:00:02] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:00:02] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:00:02] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:00:03] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:00:04] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:00:04] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:00:04] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:00:04] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:00:04] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:00:04] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:00:04] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:00:04] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:00:04] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:00:04] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:00:04] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:00:09] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:00:10] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 21:00:10] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 21:00:10] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:00:10] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 21:00:10] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 21:00:10] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0008s
[2026-01-21 21:05:00] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:05:00] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:05:00] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search invoices...
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0064s
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search purchases...
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: supplier
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:05:01] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:05:01] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search customer receipts...
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: method
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:05:01] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search invoices...
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0061s
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search purchases...
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: supplier
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:06:14] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search customer receipts...
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: method
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-21 21:06:14] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:249] -  After filtering: 0 receipts (from 0 total)
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:265] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:268] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Populating table with 0 receipts on page 1
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 21:06:14] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 21:06:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 21:06:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:06:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:06:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:06:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:06:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:06:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:06:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:06:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:06:18] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:06:18] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:06:18] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:06:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:06:18] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:06:18] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0021s
[2026-01-21 21:06:18] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:06:18] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:06:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:06:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:06:18] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:06:18] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:06:18] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:06:18] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:06:19] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:06:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:06:19] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:06:19] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:06:19] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:06:19] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:06:19] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:06:19] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:06:19] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:06:19] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:06:19] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:06:23] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:06:23] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:06:23] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:06:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:06:23] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:06:23] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0018s
[2026-01-21 21:06:23] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:06:23] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:06:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:06:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:06:23] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:06:23] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:06:23] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:06:23] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:06:24] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:06:24] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:06:24] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:06:24] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:06:24] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:06:24] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:06:24] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:06:24] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:06:24] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:06:24] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:06:24] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:06:32] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-21 21:06:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:06:32] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-21 21:06:32] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-21 21:06:32] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:249] -  After filtering: 0 receipts (from 0 total)
[2026-01-21 21:06:32] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:06:32] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:06:32] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:265] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:06:32] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:268] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-21 21:06:32] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Populating table with 0 receipts on page 1
[2026-01-21 21:06:32] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:06:35] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 21:06:35] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 21:06:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:06:35] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 21:06:35] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 21:06:35] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 21:06:43] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 21:06:43] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 21:06:43] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:06:43] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:06:43] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:06:43] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:06:43] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:06:43] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:06:43] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:06:43] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:06:43] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0009s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0007s
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:07:34] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search invoices...
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:07:34] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:07:35] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0057s
[2026-01-21 21:07:35] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:07:35] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:07:35] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search purchases...
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: supplier
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:07:35] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:07:35] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:07:35] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:07:35] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search customer receipts...
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: method
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:07:35] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-21 21:07:35] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:258] -  After filtering: 0 receipts (from 0 total)
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:07:35] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:283] -  Populating table with 0 receipts on page 1
[2026-01-21 21:07:35] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:286] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 21:07:35] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:07:35] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:07:36] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:07:36] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:07:36] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:07:36] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:07:36] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:07:36] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0015s
[2026-01-21 21:07:36] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:07:36] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:07:36] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:07:36] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:07:36] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:07:36] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:07:36] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:07:37] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:07:37] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:07:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:07:37] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:07:37] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:07:37] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:07:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:07:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:07:37] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:07:37] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:07:37] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:07:37] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:07:53] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 21:07:53] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 21:07:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:07:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:07:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:07:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:07:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:07:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:07:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:07:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:07:53] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 21:08:07] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 21:08:07] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 21:08:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:08:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:08:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:08:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:08:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:08:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:08:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:08:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:08:07] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 21:08:22] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 21:08:22] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 21:08:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:08:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:08:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:08:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:08:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:08:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:08:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:08:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:08:22] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 21:08:22] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search invoices...
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0074s
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search purchases...
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: supplier
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:08:23] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search customer receipts...
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: method
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-21 21:08:23] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:258] -  After filtering: 0 receipts (from 0 total)
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:283] -  Populating table with 0 receipts on page 1
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:286] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 21:08:23] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0005s
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:08:23] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:08:26] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0022s
[2026-01-21 21:08:26] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:08:26] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:08:26] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:08:26] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:08:26] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:08:26] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:08:26] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:08:26] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:08:30] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-21 21:08:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:08:30] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-21 21:08:30] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-21 21:08:30] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:258] -  After filtering: 0 receipts (from 0 total)
[2026-01-21 21:08:30] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:08:30] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:08:30] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:08:30] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-21 21:08:30] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:283] -  Populating table with 0 receipts on page 1
[2026-01-21 21:08:30] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:286] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:08:32] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-21 21:08:32] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:08:32] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-21 21:08:32] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-21 21:08:32] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:258] -  After filtering: 0 receipts (from 0 total)
[2026-01-21 21:08:32] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:08:32] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:08:32] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:08:32] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-21 21:08:32] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:283] -  Populating table with 0 receipts on page 1
[2026-01-21 21:08:32] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:286] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:08:34] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 21:08:34] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 21:08:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:08:34] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 21:08:34] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 21:08:34] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0009s
[2026-01-21 21:08:37] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:08:37] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:08:37] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:08:37] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:08:37] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:08:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:08:37] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:08:37] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:08:37] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:08:37] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:08:37] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:08:38] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:08:38] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:08:38] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:08:38] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:08:38] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:08:38] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0042s
[2026-01-21 21:08:38] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:08:38] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:08:38] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:08:38] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:08:38] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:08:38] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:08:38] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:08:38] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:08:39] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:08:39] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:08:39] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:08:39] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:08:39] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:08:39] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:08:39] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:08:39] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:08:39] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:08:39] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:08:39] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:08:41] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-21 21:08:41] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:08:41] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-21 21:08:41] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-21 21:08:41] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:258] -  After filtering: 0 receipts (from 0 total)
[2026-01-21 21:08:41] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:08:41] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:08:41] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:08:41] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-21 21:08:41] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:283] -  Populating table with 0 receipts on page 1
[2026-01-21 21:08:41] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:286] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:08:43] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 21:08:43] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 21:08:43] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:08:43] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 21:08:43] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 21:08:43] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0010s
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0003s
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search invoices...
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0078s
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search purchases...
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: supplier
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:09:53] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:09:53] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:09:53] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search customer receipts...
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: method
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:09:54] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-21 21:09:54] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:258] -  After filtering: 0 receipts (from 0 total)
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:09:54] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:283] -  Populating table with 0 receipts on page 1
[2026-01-21 21:09:54] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:286] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_filtered_payments
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:75] - Fetching filtered payments with filters: PaymentFilters(search_text='', method='All Methods', period='All Time', status='All Status')
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:79] - Retrieved 0 payments
[2026-01-21 21:09:54] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_filtered_payments:90] - Filtered payments: 0 out of 0
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_filtered_payments completed in 0.0004s
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:09:54] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:10:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0012s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:10:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:10:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:10:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:11:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0252s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:11:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:11:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0030s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:11:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:12:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0020s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:12:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0013s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:12:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0020s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:12:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:13:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0048s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:13:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0019s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:13:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0031s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:13:53] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:13] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:16:13] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:16:13] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0023s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search invoices...
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0068s
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search purchases...
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: supplier
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:16:14] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search customer receipts...
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: method
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-21 21:16:14] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:258] -  After filtering: 0 receipts (from 0 total)
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:283] -  Populating table with 0 receipts on page 1
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:286] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search supplier payments...
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: method
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:227] - Loading payments from database
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_all_payments
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_all_payments:67] - Fetching all payments from service
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_all_payments:69] -  Fetched 0 TOTAL payments from database
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_all_payments completed in 0.0003s
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:231] -  Fetched 0 TOTAL payments from database
[2026-01-21 21:16:14] [WARNING ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:234] -   No payments returned from database!
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:249] -  After filtering: 0 payments (from 0 total)
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:262] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:265] -  STATS: Showing stats for 0 TOTAL payments
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:270] -  Populating table with 0 payments on page 1
[2026-01-21 21:16:14] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:273] - Payment list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:14] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:16:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:15] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:16] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:227] - Loading payments from database
[2026-01-21 21:16:16] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_all_payments
[2026-01-21 21:16:16] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_all_payments:67] - Fetching all payments from service
[2026-01-21 21:16:16] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:16:16] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_all_payments:69] -  Fetched 0 TOTAL payments from database
[2026-01-21 21:16:16] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_all_payments completed in 0.0004s
[2026-01-21 21:16:16] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:231] -  Fetched 0 TOTAL payments from database
[2026-01-21 21:16:16] [WARNING ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:234] -   No payments returned from database!
[2026-01-21 21:16:16] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:249] -  After filtering: 0 payments (from 0 total)
[2026-01-21 21:16:16] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:16:16] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:16:16] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:262] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:16:16] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:265] -  STATS: Showing stats for 0 TOTAL payments
[2026-01-21 21:16:16] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:270] -  Populating table with 0 payments on page 1
[2026-01-21 21:16:16] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:273] - Payment list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:16:45] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:16:45] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_all_payments
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_all_payments:67] - Fetching all payments from service
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.type = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:16:45] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_all_payments:69] -  Fetched 0 TOTAL payments from database
[2026-01-21 21:16:45] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_all_payments completed in 0.0004s
[2026-01-21 21:16:57] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:16:57] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:57] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0004s
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search invoices...
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0059s
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search purchases...
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: supplier
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:16:58] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search customer receipts...
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: method
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-21 21:16:58] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:258] -  After filtering: 0 receipts (from 0 total)
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:283] -  Populating table with 0 receipts on page 1
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:286] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search supplier payments...
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: method
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:227] - Loading payments from database
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_all_payments
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_all_payments:67] - Fetching all payments from service
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_all_payments:69] -  Fetched 0 TOTAL payments from database
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_all_payments completed in 0.0003s
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:231] -  Fetched 0 TOTAL payments from database
[2026-01-21 21:16:58] [WARNING ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:234] -   No payments returned from database!
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:249] -  After filtering: 0 payments (from 0 total)
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:262] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:265] -  STATS: Showing stats for 0 TOTAL payments
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:270] -  Populating table with 0 payments on page 1
[2026-01-21 21:16:58] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:273] - Payment list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:16:58] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:227] - Loading payments from database
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_all_payments
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_all_payments:67] - Fetching all payments from service
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:17:00] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_all_payments:69] -  Fetched 0 TOTAL payments from database
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_all_payments completed in 0.0003s
[2026-01-21 21:17:00] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:231] -  Fetched 0 TOTAL payments from database
[2026-01-21 21:17:00] [WARNING ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:234] -   No payments returned from database!
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:249] -  After filtering: 0 payments (from 0 total)
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:262] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:17:00] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:265] -  STATS: Showing stats for 0 TOTAL payments
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:270] -  Populating table with 0 payments on page 1
[2026-01-21 21:17:00] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:273] - Payment list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:17:00] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-21 21:17:00] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:258] -  After filtering: 0 receipts (from 0 total)
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:17:00] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-21 21:17:00] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:283] -  Populating table with 0 receipts on page 1
[2026-01-21 21:17:00] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:286] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:17:02] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:227] - Loading payments from database
[2026-01-21 21:17:02] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_all_payments
[2026-01-21 21:17:02] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_all_payments:67] - Fetching all payments from service
[2026-01-21 21:17:02] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:17:02] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_all_payments:69] -  Fetched 0 TOTAL payments from database
[2026-01-21 21:17:02] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_all_payments completed in 0.0003s
[2026-01-21 21:17:02] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:231] -  Fetched 0 TOTAL payments from database
[2026-01-21 21:17:02] [WARNING ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:234] -   No payments returned from database!
[2026-01-21 21:17:02] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:249] -  After filtering: 0 payments (from 0 total)
[2026-01-21 21:17:02] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:17:02] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:17:02] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:262] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:17:02] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:265] -  STATS: Showing stats for 0 TOTAL payments
[2026-01-21 21:17:02] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:270] -  Populating table with 0 payments on page 1
[2026-01-21 21:17:02] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:273] - Payment list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:17:03] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-21 21:17:03] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-21 21:17:03] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-21 21:17:03] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-21 21:17:03] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:258] -  After filtering: 0 receipts (from 0 total)
[2026-01-21 21:17:03] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-21 21:17:03] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-21 21:17:03] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Pagination: Page 1/1, Total items: 0
[2026-01-21 21:17:03] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-21 21:17:03] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:283] -  Populating table with 0 receipts on page 1
[2026-01-21 21:17:03] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:286] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-21 21:17:06] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0018s
[2026-01-21 21:17:06] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-21 21:17:06] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-21 21:17:06] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-21 21:17:06] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-21 21:17:06] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-21 21:17:06] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-21 21:17:06] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-21 21:17:06] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-21 21:17:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:17:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:17:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:17:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:17:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:17:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-21 21:17:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-21 21:17:07] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:17] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:41] - Initializing database at /Users/fbabuna/Desktop/python_project/Pyqt5/gst_billing_software_working/data/gst_billing.db
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [__init__:47] - Database connection established
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-22 00:26:17] [INFO    ] [BillingSoftware.core.db.sqlite_db] [__init__:51] - Database initialization completed successfully
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [__init__:56] - PaymentController initialized
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=-1): 
            CREATE TABLE IF NOT EXISTS companies (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                name TEXT NOT NULL,
                gstin TEXT,
                mobile TEXT,
                email TEXT,
                address TEXT,
                website TEXT,
                tax_type TEXT,
                fy_start TEXT,
                fy_end TEXT,
                other_license TEXT,
                bank_name TEXT,
                account_name TEXT,
                account_number TEXT,
                ifsc_code TEXT,
                logo_path TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS parties (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                mobile TEXT,
                email TEXT,
                party_type TEXT NOT NULL,
                gst_number TEXT,
                pan TEXT,
                address TEXT,
                city TEXT,
                state TEXT,
                pincode TEXT,
                opening_balance REAL DEFAULT 0,
                balance_type TEXT DEFAULT 'dr',
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS products (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                name TEXT NOT NULL,
                hsn_code TEXT,
                barcode TEXT,
                unit TEXT,
                sales_rate REAL DEFAULT 0,
                purchase_rate REAL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                mrp REAL DEFAULT 0,
                tax_rate REAL DEFAULT 18,
                sgst_rate REAL DEFAULT 9,
                cgst_rate REAL DEFAULT 9,
                opening_stock REAL DEFAULT 0,
                low_stock REAL DEFAULT 0,
                product_type TEXT,
                category TEXT,
                description TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id)
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT NOT NULL,
                date TEXT NOT NULL,
                party_id INTEGER,
                bill_type TEXT DEFAULT 'CASH',
                tax_type TEXT DEFAULT 'GST - Same State',
                subtotal REAL DEFAULT 0,
                discount REAL DEFAULT 0,
                cgst REAL DEFAULT 0,
                sgst REAL DEFAULT 0,
                igst REAL DEFAULT 0,
                round_off REAL DEFAULT 0,
                grand_total REAL DEFAULT 0,
                balance_due REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                notes TEXT,
                created_at TEXT DEFAULT CURRENT_TIMESTAMP,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id)
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(invoice_id) REFERENCES invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS payments (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                payment_id TEXT,
                party_id INTEGER,
                amount REAL,
                date TEXT,
                mode TEXT,
                invoice_id INTEGER,
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(party_id) REFERENCES parties(id),
                FOREIGN KEY(invoice_id) REFERENCES invoices(id)
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoices (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                company_id INTEGER,
                invoice_no TEXT,
                date TEXT,
                supplier_id INTEGER,
                supplier_invoice_no TEXT,
                grand_total REAL DEFAULT 0,
                status TEXT DEFAULT 'Unpaid',
                type TEXT DEFAULT 'GST',
                notes TEXT,
                FOREIGN KEY(company_id) REFERENCES companies(id),
                FOREIGN KEY(supplier_id) REFERENCES parties(id)
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0000s, rows=-1): 
            CREATE TABLE IF NOT EXISTS purchase_invoice_items (
                id INTEGER PRIMARY KEY AUTOINCREMENT,
                purchase_invoice_id INTEGER NOT NULL,
                product_id INTEGER,
                product_name TEXT NOT NULL,
                hsn_code TEXT,
                quantity REAL NOT NULL DEFAULT 0,
                unit TEXT DEFAULT 'Piece',
                rate REAL NOT NULL DEFAULT 0,
                discount_percent REAL DEFAULT 0,
                discount_amount REAL DEFAULT 0,
                tax_percent REAL DEFAULT 0,
                tax_amount REAL DEFAULT 0,
                amount REAL NOT NULL DEFAULT 0,
                FOREIGN KEY(purchase_invoice_id) REFERENCES purchase_invoices(id),
                FOREIGN KEY(product_id) REFERENCES products(id)
            )
            
[2026-01-22 00:26:17] [DEBUG   ] [BillingSoftware.core.db.sqlite_db] [set_current_company:56] - Set current company to ID: 15
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0030s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0011s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0015s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [__init__:57] - Initializing PartiesScreen
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, GSTIN, mobile...
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: balance
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_create_pagination_controls:204] - Pagination widget created and configured
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:219] - Loading parties from database
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:231] -  Fetched 549 TOTAL parties from database
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:243] -  After filtering: 549 parties (from 549 total)
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/12, Total items: 549
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/12, Prev enabled: False, Next enabled: True
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:259] -  STATS: Showing stats for 549 TOTAL parties
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:260] -  PAGINATION: Showing page 1 of 12 (549 after filters)
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:338] -  _update_stats called with 549 parties
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:375] -  Stats updated successfully:
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:376] -    Total: 549, Customers: 290, Suppliers: 259
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_update_stats:377] -    Receivable: 46039836.0, Payable: 42988240.0
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:265] -  Populating table with 49 parties for page 1
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:396] - Populating table with 49 parties, starting row num: 1
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.parties.party_list_screen] [_populate_table:470] - Table populated with 49 rows
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.parties.party_list_screen] [_load_parties:268] - Party list loaded successfully. Page 1/12
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [__init__:71] - Initializing ProductsScreen
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search by name, HSN, category...
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: type
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: category
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:234] - Starting product data load
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:132] - Starting execution of get_all_products
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.controllers.product_controller] [get_all_products:175] - Fetching all products from database
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.controllers.product_controller] [get_all_products:179] - Successfully fetched 19 products
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.controllers.product_controller] [wrapper:143] - get_all_products completed in 0.0003s
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:238] - Fetched 19 products from service
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:283] - Applying filters to products
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:291] - Filter values: search='', type=All, category=All Categories, stock=All
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:302] - Filter result: 19 products after filtering
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 19
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:316] - Pagination updated: 1 pages, 19 items
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_apply_filters:321] - Filters applied successfully: 19 products shown out of 19 total
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:342] - Updating category filter options
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:346] - Found 7 unique categories
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_update_category_filter:369] - Category filter updated with 7 options
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:387] - Updating statistics from all products
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_update_stats:398] - Stats updated: total=19, in_stock=10, low_stock=1, out_of_stock=8
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:418] - Starting table population
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:430] - Populating table: page 1, 49 items/page
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:437] - Page slice: 0:49, 19 items to display
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 1 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH SPEAKER: type=Goods, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 1 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 2 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TP LINK ROUTER: type=Goods, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 2 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 3 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for WIRELESS KEYBOARD SET: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 3 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 4 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for HP COLOR PRINTER: type=Goods, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 4 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 5 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for TYPE C CHARGER: type=Goods, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 5 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 6 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 1 TB PEN DRIVE: type=Goods, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 6 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 7 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for 128 GB SANDISK MEMORY CARD: type=Goods, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 7 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 8 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for LAPTOP CMOS CELL: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 8 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 9 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DVR 16 CHANNE: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 9 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 10 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for IMOU WIFI CAMERA: type=None, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 10 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 11 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CAT 6 CABEL: type=Goods, status=Low Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 11 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 12 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for CCTV CAMERA 2MP: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 12 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 13 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for EXTENSION BOARD 4 SOCKET: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 13 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 14 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for BLUETOOTH EARPHONES: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 14 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 15 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for MOBILE CHARGER 18W: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 15 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 16 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for ED BULB 9W: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 16 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 17 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DAHUA 2 MP CAMERA: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 17 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 18 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for DELL KEYBOARD: type=Goods, status=In Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 18 added successfully
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:469] - Adding row 19 to table
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_create_stock_cell:564] - Creating stock cell for SAMPLE PRODUCT: type=Goods, status=Out of Stock
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_add_table_row:536] - Row 19 added successfully
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_populate_table:443] - Table populated: 19 rows added for page 1
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.products.product_list_screen] [_load_products:257] - Product load complete: 19 total, 19 filtered
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.products.product_list_screen] [_load_products:269] - Product load state reset
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search invoices...
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0065s
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search purchases...
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: amount
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: supplier
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-22 00:26:18] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search customer receipts...
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: method
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: party
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-22 00:26:18] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:258] -  After filtering: 0 receipts (from 0 total)
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Pagination: Page 1/1, Total items: 0
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:283] -  Populating table with 0 receipts on page 1
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:286] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [__init__:58] - FilterWidget initialized
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_search_filter:74] - Search filter added: Search supplier payments...
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: method
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: period
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_combo_filter:112] - Combo filter added: status
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.widgets.filter_widget] [add_refresh_button:190] - Refresh button added
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [__init__:58] - Initializing PaginationWidget with 49 items per page
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:227] - Loading payments from database
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_all_payments
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_all_payments:67] - Fetching all payments from service
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0002s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_all_payments:69] -  Fetched 0 TOTAL payments from database
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_all_payments completed in 0.0005s
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:231] -  Fetched 0 TOTAL payments from database
[2026-01-22 00:26:18] [WARNING ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:234] -   No payments returned from database!
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:249] -  After filtering: 0 payments (from 0 total)
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:262] -  Pagination: Page 1/1, Total items: 0
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:265] -  STATS: Showing stats for 0 TOTAL payments
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:270] -  Populating table with 0 payments on page 1
[2026-01-22 00:26:18] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:273] - Payment list loaded successfully. Total: 0, Filtered: 0
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:18] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-22 00:26:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:19] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:20] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-22 00:26:20] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-22 00:26:20] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-22 00:26:20] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0007s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-22 00:26:20] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-22 00:26:20] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0019s
[2026-01-22 00:26:20] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-22 00:26:20] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-22 00:26:20] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-22 00:26:20] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-22 00:26:20] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-22 00:26:20] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-22 00:26:20] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-22 00:26:20] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-22 00:26:22] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-22 00:26:22] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-22 00:26:22] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-22 00:26:22] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-22 00:26:22] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-22 00:26:22] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-22 00:26:22] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-22 00:26:22] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-22 00:26:22] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-22 00:26:22] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-22 00:26:22] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-22 00:26:25] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-22 00:26:25] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-22 00:26:25] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-22 00:26:25] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-22 00:26:25] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:258] -  After filtering: 0 receipts (from 0 total)
[2026-01-22 00:26:25] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-22 00:26:25] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-22 00:26:25] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Pagination: Page 1/1, Total items: 0
[2026-01-22 00:26:25] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-22 00:26:25] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:283] -  Populating table with 0 receipts on page 1
[2026-01-22 00:26:25] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:286] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-22 00:26:26] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:227] - Loading payments from database
[2026-01-22 00:26:26] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_all_payments
[2026-01-22 00:26:26] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_all_payments:67] - Fetching all payments from service
[2026-01-22 00:26:26] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-22 00:26:26] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_all_payments:69] -  Fetched 0 TOTAL payments from database
[2026-01-22 00:26:26] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_all_payments completed in 0.0003s
[2026-01-22 00:26:26] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:231] -  Fetched 0 TOTAL payments from database
[2026-01-22 00:26:26] [WARNING ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:234] -   No payments returned from database!
[2026-01-22 00:26:26] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:249] -  After filtering: 0 payments (from 0 total)
[2026-01-22 00:26:26] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-22 00:26:26] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-22 00:26:26] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:262] -  Pagination: Page 1/1, Total items: 0
[2026-01-22 00:26:26] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:265] -  STATS: Showing stats for 0 TOTAL payments
[2026-01-22 00:26:26] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:270] -  Populating table with 0 payments on page 1
[2026-01-22 00:26:26] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:273] - Payment list loaded successfully. Total: 0, Filtered: 0
[2026-01-22 00:26:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0010s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0005s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-22 00:26:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0008s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=213): SELECT * FROM invoices WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=378): 
                SELECT p.*, pa.name as party_name
                FROM payments p 
                LEFT JOIN parties pa ON p.party_id = pa.id 
                WHERE p.company_id = ?
                ORDER BY p.id DESC
             [with 1 params]
[2026-01-22 00:26:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0006s, rows=549): SELECT * FROM parties WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:28] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=19): SELECT * FROM products WHERE company_id = ? ORDER BY id DESC [with 1 params]
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:221] - Loading invoices from database
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:132] - Starting execution of get_all_invoices
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:65] - Fetching all invoices for company_id: 15
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0004s, rows=213): 
                        SELECT 
                            i.*,
                            COALESCE(p.name, 'Unknown Party') as party_name
                        FROM invoices i
                        LEFT JOIN parties p ON i.party_id = p.id
                        WHERE i.company_id = ?
                        ORDER BY i.id DESC
                     [with 1 params]
[2026-01-22 00:26:30] [INFO    ] [BillingSoftware.controllers.invoice_controller] [get_all_invoices:110] - Successfully fetched 213 invoices
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.controllers.invoice_controller] [wrapper:143] - get_all_invoices completed in 0.0014s
[2026-01-22 00:26:30] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:225] -  Fetched 213 TOTAL invoices from database
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:245] -  After filtering: 213 invoices (from 213 total)
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/5, Total items: 213
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/5, Prev enabled: False, Next enabled: True
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:259] -  Pagination: Page 1/5, Total items: 213
[2026-01-22 00:26:30] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:262] -  STATS: Showing stats for 213 TOTAL invoices
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:267] -  Populating table with 49 invoices on page 1
[2026-01-22 00:26:30] [INFO    ] [BillingSoftware.ui.invoices.sales.sales_invoice_list_screen] [_load_data:270] - Invoice list loaded successfully. Total: 213, Filtered: 213
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:226] - Loading purchases from database
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0003s, rows=0): 
                        SELECT 
                            pi.*,
                            COALESCE(p.name, 'Unknown Supplier') as party_name
                        FROM purchase_invoices pi
                        LEFT JOIN parties p ON pi.supplier_id = p.id
                        WHERE pi.company_id = ?
                        ORDER BY pi.id DESC
                     [with 1 params]
[2026-01-22 00:26:30] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:230] -  Fetched 0 TOTAL purchases from database
[2026-01-22 00:26:30] [WARNING ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:233] -   No purchases returned from database!
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:250] -  After filtering: 0 purchases (from 0 total)
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/0, Total items: 0
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/0, Prev enabled: False, Next enabled: False
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:264] -  Pagination: Page 1/0, Total items: 0
[2026-01-22 00:26:30] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:267] -  STATS: Showing stats for 0 TOTAL purchases
[2026-01-22 00:26:30] [DEBUG   ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:272] -  Populating table with 0 purchases on page 1
[2026-01-22 00:26:30] [INFO    ] [BillingSoftware.ui.invoices.purchase.purchase_invoice_list_screen] [_load_data:275] - Purchase list loaded successfully. Total: 0, Filtered: 0
[2026-01-22 00:26:33] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:236] - Loading receipts from database
[2026-01-22 00:26:33] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-22 00:26:33] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:241] -  Fetched 0 TOTAL receipts from database
[2026-01-22 00:26:33] [WARNING ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:244] -   No receipts returned from database!
[2026-01-22 00:26:33] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:258] -  After filtering: 0 receipts (from 0 total)
[2026-01-22 00:26:33] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-22 00:26:33] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-22 00:26:33] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:274] -  Pagination: Page 1/1, Total items: 0
[2026-01-22 00:26:33] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:277] -  STATS: Showing stats for 0 TOTAL receipts
[2026-01-22 00:26:33] [DEBUG   ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:283] -  Populating table with 0 receipts on page 1
[2026-01-22 00:26:33] [INFO    ] [BillingSoftware.ui.receipts.receipt_list_screen] [_load_data:286] - Receipt list loaded successfully. Total: 0, Filtered: 0
[2026-01-22 00:26:34] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:227] - Loading payments from database
[2026-01-22 00:26:34] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:132] - Starting execution of get_all_payments
[2026-01-22 00:26:34] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [get_all_payments:67] - Fetching all payments from service
[2026-01-22 00:26:34] [DEBUG   ] [BillingSoftware.DatabaseQueries] [log_query:324] - Query (0.0001s, rows=0): 
                    SELECT p.*, pa.name as party_name
                    FROM payments p 
                    LEFT JOIN parties pa ON p.party_id = pa.id 
                    WHERE p.company_id = ? AND p.type = ?
                    ORDER BY p.id DESC
                 [with 2 params]
[2026-01-22 00:26:34] [INFO    ] [BillingSoftware.controllers.payment_controller] [get_all_payments:69] -  Fetched 0 TOTAL payments from database
[2026-01-22 00:26:34] [DEBUG   ] [BillingSoftware.controllers.payment_controller] [wrapper:143] - get_all_payments completed in 0.0003s
[2026-01-22 00:26:34] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:231] -  Fetched 0 TOTAL payments from database
[2026-01-22 00:26:34] [WARNING ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:234] -   No payments returned from database!
[2026-01-22 00:26:34] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:249] -  After filtering: 0 payments (from 0 total)
[2026-01-22 00:26:34] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [set_pagination_state:163] - Pagination state updated: Page 1/1, Total items: 0
[2026-01-22 00:26:34] [DEBUG   ] [BillingSoftware.ui.base.pagination_widget] [_update_ui:180] - Pagination UI updated - Page: 1/1, Prev enabled: False, Next enabled: False
[2026-01-22 00:26:34] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:262] -  Pagination: Page 1/1, Total items: 0
[2026-01-22 00:26:34] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:265] -  STATS: Showing stats for 0 TOTAL payments
[2026-01-22 00:26:34] [DEBUG   ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:270] -  Populating table with 0 payments on page 1
[2026-01-22 00:26:34] [INFO    ] [BillingSoftware.ui.payments.payment_list_screen] [_load_data:273] - Payment list loaded successfully. Total: 0, Filtered: 0
